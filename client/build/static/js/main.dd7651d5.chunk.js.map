{"version":3,"sources":["schemas.js","types.js","actions/commentActions.js","actions/postActions.js","actions/userActions.js","images/image-placeholder.svg","images/link-post.svg","images/reddit-default.svg","webpack:///./src/images/down-arrow.svg?0968","webpack:///./src/images/up-arrow.svg?3f43","components/Post.jsx","components/Login.jsx","components/Signup.jsx","components/Home.jsx","images/magnifying-glass.svg","images/Triangle.svg","components/Navbar.jsx","components/NewPost.jsx","images/down-arrow.svg","images/edit.svg","images/up-arrow.svg","components/Comment.jsx","components/PostModal.jsx","App.js","reducers/reducer.js","index.js","store/store.js","localStorage.js"],"names":["comment","schema","Entity","idAttribute","define","comments","post","REQUEST_POSTS","RECEIVE_POSTS","RECEIVE_COMMENTS","RECEIVE_SINGLE_POSTS","LOGIN_REQUEST","LOGIN_SUCCESS","LOGIN_ERROR","SIGNUP_REQUEST","SIGNUP_SUCCESS","SIGNUP_ERROR","CURRENT_USER","POST_CREATION_CHANGE_SUBMISSION_TYPE","NEW_POST_SUCCESS","NEW_POST_REQUEST","NEW_COMMENT_SUCCESS","NEW_REPLY_REQUEST","NEW_REPLY_SUCCESS","VOTE_CAST","NEXT_PAGE","PREV_PAGE","DELETE_POST","EDIT_POST","LOG_OUT","CLEAR_ERROR","SET_POST_MODAL","SPLICED_POST","REFRESH_USER","UNAUTHORIZED_ERROR","SORT_POSTS","CLEAR_LOGIN_MODAL","REQUEST_USER_INFO","DARK_MODE_ENABLED","DARK_MODE_DISABLED","newComment","content","postId","dispatch","getState","type","axios","url","method","data","postid","withCredentials","then","res","savedComment","parentId","newCommentSuccess","changeCommentPoint","point","commentId","currentCommentId","currentVoteState","byId","voteState","requestPosts","e","changePostSubmissionType","postType","currentValue","changeNewSubmissionType","submissionType","changePoint","submitPost","form","status","id","_id","submitPostSuccess","getNormalizeData","myData","params","normalize","fetchPosts","query","get","sort","normalizedData","offset","nextPage","Promise","resolve","posts","fetchSinglePost","all","promises","Object","keys","normalizedComments","entities","commentids","result","retryCount","logOut","localStorage","removeItem","login","username","password","loginSuccess","jwt_token","token","setItem","catch","signup","passwordConfirm","err","passwordError","error","response","interceptors","request","use","config","accessToken","getItem","headers","originalRequest","_retry","reject","defaults","common","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","apply","this","_objectWithoutProperties","excluded","sourceKeys","indexOf","_objectWithoutPropertiesLoose","getOwnPropertySymbols","sourceSymbolKeys","propertyIsEnumerable","_ref2","transform","d","SvgDownArrow","_ref","svgRef","title","titleId","props","width","height","viewBox","ref","undefined","ForwardRef","SvgUpArrow","Post","history","useState","deleteButton","setDelete","setActive","match","useDispatch","checkDisplay","useSelector","state","display","currentUser","postStatus","listings","confirmedDelete","deletePost","className","author","onClick","to","pathname","modal","alt","voteTotal","Login","setUsername","setPassword","isLoggedIn","handleLogin","x","window","location","reload","close","onChange","value","placeholder","onKeyDown","Signup","setPasswordConfirm","user","useEffect","Home","postsToDisplay","allPosts","dataLoaded","setDataLoaded","useLocation","loggedIn","useParams","listingOrder","sortOrder","currentIds","queryParams","search","offSetId","after","URLSearchParams","before","map","bottomRef","useCallback","node","shouldFetch","observer","IntersectionObserver","entries","intersectionRatio","disconnect","observe","threshold","split","splitUrl","listing","handlePostType","handleShowLogin","showSignup","src","defaultPic","imagePost","linkPost","withRouter","dropdown","setDropDown","searchInput","setSearchInput","searchContent","setSearchContent","searchActive","setSearchActive","currentModal","allIds","flattened","handleDarkMode","handleSearchContent","a","trimStart","trimmed","filter","RegExp","test","filtered","handleCloseSearch","closeSearch","document","body","addEventListener","removeEventListener","replace","style","overflow","newPost","path","searchicon","backgroundColor","triangle","handleShowSignup","htmlFor","NewPost","newQuery","newQuery2","useHistory","setTitle","text","setText","imagedata","setImage","submitCheck","submitted","fetchingLogin","fetching","reRouteId","push","replaceState","action","files","name","cols","rows","preventDefault","FormData","append","uploadForm","_ref3","_ref4","_ref5","_ref6","_ref7","_ref8","_ref9","_ref10","_ref11","_ref12","_ref13","_ref14","_ref15","_ref16","_ref17","_ref18","SvgEdit","Comment","lines","setLines","replyText","setReplyText","replyToggle","setReplyToggle","linesArr","depth","left","position","paddingLeft","paddingTop","line","upvote","downvote","master_comment","parentIndex","findIndex","console","log","parentid","reply","newReply","React","memo","prev","next","connect","ownProps","commentText","setCommentText","edit","setEdit","editText","setEditText","currentPost","handleReroute","saveEdit","date","Date","createdAt","formatDate","Intl","DateTimeFormat","format","postComments","stopPropagation","image","allComments","App","showLogin","setLogin","setFetchingLogin","setShowSignup","loggedInStatus","signedUpStatus","isSignedUp","closeModal","handleShowNextPage","lastId","exact","render","props2","combineArrays","arr1","arr2","combined","concat","set","Set","addComment","changePostPoint","handlePostSubmission","submitting","createdPosts","editPostReduce","handlePreviousPage","incomingIds","isFetching","handleNextPage","setListings","receievePosts","setPostModal","addCommentEntry","rootReducer","combineReducers","allId","firstId","newIndex","currPostid","newArray","splice","newObj","splicedArray","filteredPosts","isLoggingIn","isSigningUp","userInfo","store","preloadedState","persistedState","serializedState","JSON","parse","loadState","composeEnhancers","composeWithDevTools","trace","createStore","applyMiddleware","thunkMiddleware","configureStore","createBrowserHistory","ReactDOM","StrictMode","getElementById"],"mappings":"uQACaA,EAAU,IAAIC,IAAOC,OAChC,WACA,GACA,CAAEC,YAAa,QAEjBH,EAAQI,OAAO,CACbC,SAAU,CAACL,KAEN,IAAMM,EAAO,IAAIL,IAAOC,OAC7B,QACA,GAEA,CAAEC,YAAa,QCbJI,EAAgB,gBAChBC,EAAgB,gBAEhBC,EAAmB,mBAEnBC,EAAuB,uBACvBC,EAAgB,gBAChBC,EAAgB,gBAChBC,EAAc,cACdC,EAAiB,iBACjBC,EAAiB,iBACjBC,EAAe,eACfC,EAAe,eACfC,EACX,uCACWC,EAAmB,mBACnBC,EAAmB,mBAGnBC,EAAsB,sBAEtBC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAY,YACZC,EAAY,YACZC,EAAY,YACZC,EAAc,cACdC,EAAY,YACZC,EAAU,UACVC,EAAc,cAEdC,EAAiB,iBACjBC,EAAe,eACfC,EAAe,eAEfC,EAAqB,qBACrBC,EAAa,aAGbC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAoB,oBACpBC,EAAqB,qBCJ3B,SAASC,EAAWC,EAASC,GAClC,OAAO,SAACC,EAAUC,GAEhB,OADAD,EA1BK,CACLE,KDG+B,wBCuBxBC,IAAM,CACXC,IAAK,gBACLC,OAAQ,OACRC,KAAM,CACJR,UACAS,OAAQR,GAEVS,iBAAiB,IAChBC,MAAK,SAACC,GACPV,EAtBN,SAA2BW,EAAcZ,EAAQa,GAC/C,OAAO,SAACZ,EAAUC,GAChBD,EAAS,CACPE,KAAMxB,EACNiC,eACAZ,SACAa,cAgBSC,CAAkBH,EAAIJ,KAAMP,QA6CpC,SAASe,EAAmBC,EAAOhB,EAAQiB,GAChD,OAAO,SAAChB,EAAUC,GAChB,IAAMgB,EAAmBD,EAEnBE,EADiBjB,IAAWvC,SAASyD,KAAKF,GACRG,UACxCpB,EAAS,CACPE,KAAMrB,EACNkC,QACAC,YACAE,qBAEY,IAAVH,EACFZ,IAAM,CACJC,IAAI,eAAD,OAAiBY,GACpBX,OAAQ,MACRC,KAAM,CACJJ,KAAM,aAERM,iBAAiB,KAEC,IAAXO,GACTZ,IAAM,CACJC,IAAI,iBAAD,OAAmBY,GACtBX,OAAQ,MACRC,KAAM,CACJJ,KAAM,aAERM,iBAAiB,KChGzB,SAASa,GAAaC,GACpB,MAAO,CACLpB,KAAMtC,GAeH,SAAS2D,GAAyBC,GACvC,OAAO,SAACxB,EAAUC,GAChB,IAAIwB,EAAexB,IAAWyB,wBAAwBC,eAClDH,IAAaC,GAGfzB,EAAS,CACPE,KAAM3B,EACNiD,cAKD,SAASI,GAAYb,EAAOhB,EAAQqB,GACzC,OAAO,SAACpB,EAAUC,GAOhB,OANAD,EAAS,CACPE,KAAMrB,EACNkB,SACAgB,QACAG,iBAAkBE,IAEN,IAAVL,EACKZ,IAAM,CACXC,IAAI,eAAD,OAAiBL,GACpBM,OAAQ,MACRC,KAAM,CACJJ,KAAM,UAERM,iBAAiB,KAGN,IAAXO,EACKZ,IAAM,CACXC,IAAI,iBAAD,OAAmBL,GACtBM,OAAQ,MACRC,KAAM,CACJJ,KAAM,UAERM,iBAAiB,SAPrB,GAuBG,SAASqB,GAAWC,GACzB,OAAO,SAAC9B,GACN,OAAOG,IAAM,CACXC,IAAI,aACJC,OAAQ,OACRC,KAAMwB,EACNtB,iBAAiB,IAChBC,MAAK,SAACC,GACY,MAAfA,EAAIqB,QACN/B,EA3ER,SAA2BrC,GACzB,IAAIqE,EAAKrE,EAAKsE,IAEd,OADAtE,EAAI,SAAc,EACX,SAACqC,GACNA,EAAS,CAAEE,KAAM1B,EAAkBb,OAAMqE,QAuE5BE,CAAkBxB,EAAIJ,WAevC,SAAS6B,GAAiBC,EAAQC,EAAQnC,GAExC,OADuBoC,YAAUF,EAAQ,CAAU,UAATlC,EAAmBvC,EAAON,IAgC/D,SAASkF,GAAWC,EAAOR,EAAIK,EAAQf,GAC5C,OAAO,SAACtB,GAEN,OADAA,EAASqB,MACFlB,IACJsC,IADI,oBAEUJ,GAAUA,EAAOK,KAAjB,gBAAiCL,EAAOK,MAAS,IAF3D,OAGDF,EAAK,WAAOA,EAAP,YAAgBR,GAAO,IAE9B,CACExB,iBAAiB,IAGpBC,MAAK,SAACC,GACL,IAAMiC,EAAiBR,GAAiBzB,EAAIJ,KAAM+B,EAAQ,SAQ1D,OAPArC,EAAS,CACPE,KACEmC,GAAUA,EAAOK,MAAc,UAANpB,EAAgB9B,EAAa3B,EACxD8E,iBACAC,OAAQlC,EAAIJ,KAAKsC,OACjBF,KAAML,GAAUA,EAAOK,KAAOL,EAAOK,KAAO,YAEvChC,EAAIJ,SAgCZ,SAASuC,GAASb,EAAIK,GAC3B,OAAO,SAACrC,GAEN,OADAA,EAASqB,MACF,IAAIyB,SAAQ,SAACC,GAClB5C,IAAM,CACJC,IAAI,cAAD,OACDiC,GAAUA,EAAOK,KAAOL,EAAOK,KAAO,GADrC,eAEY,GAFZ,kBAEwBV,GAC3B3B,OAAQ,MACRG,iBAAiB,IAChBC,MAAK,SAACC,GACP,GAAmB,MAAfA,EAAIqB,OAAgB,CACtB,IAAMY,EAAiBR,GACrB,CAAEa,MAAOtC,EAAIJ,KAAK0C,QAGpBhD,EAAS,CACPE,KAAMpB,EACN6D,iBACAC,OAAQlC,EAAIJ,KAAKsC,OACjBF,KAAML,EAAOK,KAAOL,EAAOK,KAAO,YAEpCK,EAAQ,qBASX,SAASE,GAAgBjB,GAC9B,OAAO,SAAChC,GACNA,EAhIK,CACLE,KF7G+B,wBE8O/B,ID3L0BK,EC2LpByC,EAAQ7C,IAAM,CAClBC,IAAI,cAAD,OAAgB4B,GACnB3B,OAAQ,MACRG,iBAAiB,IAChBC,MAAK,SAACH,GACP,MAAO,CACL0C,MAAO1C,EAAKA,SAIV5C,EAAWsC,GDrMSO,ECqMcyB,EDpMnC,SAAChC,GAIN,OAHAA,EAAS,CACPE,KDxD0B,qBC0DrBC,IAAM,CACXC,IAAI,iBAAD,OAAmBG,GACtBF,OAAQ,MAERG,iBAAiB,IAChBC,MAAK,SAACH,GACP,MAAO,CACL5C,SAAU4C,EAAKA,YC0LnB,OAAOwC,QAAQI,IAAI,CAACF,EAAOtF,IAAW+C,MAAK,SAACC,GAC1C,IADkD,EAC5CyC,EAAW,GADiC,cAGjCzC,GAHiC,IAGlD,2BAAsB,CAAC,IAAdJ,EAAa,QAGpB6C,EAFYC,OAAOC,KAAK/C,GAAM,IAEdA,GANgC,8BASlD,IAAMqC,EAAiBR,GAAiBgB,EAASH,MAAO,EAAM,SAC9DhD,EAAS,CAAE2C,iBAAgBzC,KAAMnC,IACjC,IAEMuF,EAAqBnB,GAFVgB,EAASzF,SAGfA,SACT,EACA,YASF,OAPAsC,EAAS,CACPE,KAAMpC,EACNJ,SAAU4F,EAAmBC,SAAS7F,SACtC8F,WAAYF,EAAmBG,OAC/BlD,OAAQyB,IAGHtB,M,iCC1QTgD,GAAa,EAwDV,SAASC,KACd,OAAO,SAAC3D,GACN,OAAOG,IAAM,CACXC,IAAK,cACLI,iBAAiB,EACjBH,OAAQ,SACPI,MAAK,SAACC,GACP,GAAmB,MAAfA,EAAIqB,OAEN,OADA6B,aAAaC,WAAW,eACjBnD,MAUR,SAASoD,GAAMC,EAAUC,GAC9B,OAAO,SAAChE,GAEN,OADAA,EAnCK,CACLE,KAAMlC,IAmCCmC,IAAM,CACXK,iBAAiB,EACjBH,OAAQ,OACRC,KAAM,CACJyD,SAAUA,EACVC,SAAUA,GAEZ5D,IAAK,eAEJK,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIqB,OAGN,OAFA/B,EA3CV,SAAsB+D,EAAU/B,GAC9B,OAAO,SAAChC,GACNA,EAAS,CACPE,KAAMjC,EACN8F,WACA/B,OAEFc,QAAQC,QAAQ,YAoCDkB,CAAavD,EAAIJ,KAAKyD,SAAUrD,EAAIJ,KAAK2B,MACtCvB,EAAIJ,KAAK4D,aAIxBzD,MAAK,SAAC0D,GAEL,OADAP,aAAaQ,QAAQ,cAAeD,GAC7B,WAERE,OAAM,WACLrE,EA5BC,CACLE,KAAMX,QAsEH,SAAS+E,GAAOP,EAAUC,EAAUO,GACzC,OAAO,SAACvE,GAEN,OADAA,EAAS,CAAEE,KAAM/B,IACVgC,IAAM,CACXC,IAAK,cACLE,KAAM,CACJyD,WACAC,WACAO,mBAEFlE,OAAQ,SAEPI,MAAK,SAACC,GACL,GAAmB,MAAfA,EAAIqB,OAEN,OADA/B,EAlBD,CACLE,KAAM9B,IAkBO,YAGViG,OAAM,SAACG,GACN,IACIC,EADAC,EAAQF,EAAIG,SAASrE,KAErB0D,IAAaO,IACfE,EAAgB,0BAElBzE,EAAS,CAAEE,KAAM7B,EAAcqG,QAAOD,sBArK9CtE,IAAMyE,aAAaC,QAAQC,KAAI,SAACC,GAC9B,IAAMC,EAAcpB,aAAaqB,QAAQ,eAIzC,OAHID,IACFD,EAAOG,QAAP,+BAA4CF,IAEvCD,KAET5E,IAAMyE,aAAaD,SAASG,KAC1B,SAAUH,GACR,OAAOA,KAET,SAAUH,GACR,IAAMW,EAAkBX,EAAIO,OAC5B,GAC2B,MAAxBP,EAAIG,SAAS5C,QAA0C,MAAxByC,EAAIG,SAAS5C,QAC5CoD,EAAgBC,UACjB1B,IAAc,IACK,iBAAnBc,EAAIO,OAAO3E,IAmBX,OAAO0C,QAAQuC,OAAOb,GAjBtBd,IAA0B,EAC1ByB,EAAgBC,QAAS,EACzBjF,IAAM,CACJC,IAAK,eACLC,OAAQ,OACRG,iBAAiB,IAChBC,MAAK,SAACH,GACP,GAAIA,EAAKA,KAMP,OALAsD,aAAaQ,QAAQ,cAAe9D,EAAKA,KAAK4D,WAC9C/D,IAAMmF,SAASJ,QAAQK,OAAvB,cACE,UAAYjF,EAAK4D,UACnBiB,EAAgBD,QAAhB,cACE,UAAY5E,EAAKA,KAAK4D,UACjB/D,IAAMgF,S,YC7CR,OAA0B,8CCA1B,OAA0B,sCCA1B,OAA0B,2C,oBCAzC,SAASK,KAA2Q,OAA9PA,GAAWpC,OAAOqC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAc1C,OAAO4C,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAASS,GAAyBP,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAanD,OAAOC,KAAKyC,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASE,QAAQT,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxMe,CAA8BX,EAAQQ,GAAuB,GAAIlD,OAAOsD,sBAAuB,CAAE,IAAIC,EAAmBvD,OAAOsD,sBAAsBZ,GAAS,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IAAOI,EAAMY,EAAiBhB,GAAQW,EAASE,QAAQT,IAAQ,GAAkB3C,OAAO4C,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAImB,GAAqB,gBAAoB,IAAK,CAChD7E,GAAI,UACU,gBAAoB,IAAK,CACvCA,GAAI,iBACJ8E,UAAW,uCACG,gBAAoB,IAAK,CACvC9E,GAAI,UACJ8E,UAAW,qCACG,gBAAoB,IAAK,CACvC9E,GAAI,QACJ8E,UAAW,oCACG,gBAAoB,IAAK,CACvC9E,GAAI,kBACJ8E,UAAW,kCACG,gBAAoB,OAAQ,CAC1CC,EAAG,uqBACH/E,GAAI,cAGN,SAASgF,GAAaC,EAAMC,GAC1B,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQhB,GAAyBY,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAOzB,GAAS,CACtD8B,MAAO,OACPC,OAAQ,OACRC,QAAS,YACTC,IAAKP,EACL,kBAAmBE,GAClBC,QAAkBK,IAAVP,EAAmC,gBAAoB,QAAS,CACzEnF,GAAIoF,GACH,mBAAqBD,EAAqB,gBAAoB,QAAS,CACxEnF,GAAIoF,GACHD,GAAS,KAAMN,IAGpB,IAAIc,GAA0B,aAAiBX,IAChC,IC9Cf,SAAS,KAA2Q,OAA9P,GAAW5D,OAAOqC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAc1C,OAAO4C,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAanD,OAAOC,KAAKyC,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASE,QAAQT,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAIlD,OAAOsD,sBAAuB,CAAE,IAAIC,EAAmBvD,OAAOsD,sBAAsBZ,GAAS,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IAAOI,EAAMY,EAAiBhB,GAAQW,EAASE,QAAQT,IAAQ,GAAkB3C,OAAO4C,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,gBAAoB,IAAK,CAChD1D,GAAI,UACU,gBAAoB,IAAK,CACvCA,GAAI,iBACJ8E,UAAW,uCACG,gBAAoB,IAAK,CACvC9E,GAAI,UACJ8E,UAAW,qCACG,gBAAoB,IAAK,CACvC9E,GAAI,QACJ8E,UAAW,oCACG,gBAAoB,IAAK,CACvC9E,GAAI,aACJ8E,UAAW,4GACG,gBAAoB,OAAQ,CAC1CC,EAAG,uqBACH/E,GAAI,cAGN,SAAS4F,GAAWX,EAAMC,GACxB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDK,MAAO,OACPC,OAAQ,OACRC,QAAS,YACTC,IAAKP,EACL,kBAAmBE,GAClBC,QAAkBK,IAAVP,EAAmC,gBAAoB,QAAS,CACzEnF,GAAIoF,GACH,cAAgBD,EAAqB,gBAAoB,QAAS,CACnEnF,GAAIoF,GACHD,GAAS,KAAM,IAGpB,IAAI,GAA0B,aAAiBS,IC0EhCC,IDzEA,ICvCF,SAAC,GAAuB,IAArBlK,EAAoB,EAApBA,KAAMmK,EAAc,EAAdA,QAAc,EACAC,oBAAS,GADT,mBAC3BC,EAD2B,KACbC,EADa,OAEZF,oBAAS,GAAtBG,EAFyB,oBAG5B7F,EAASyF,EAAQK,MAAM9F,OAAOK,KAC9B1C,EAAWoI,cACXC,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAEjBC,EAAcH,aAAY,SAACC,GAAD,OAAWA,EAAME,YAAYxG,OACvDyG,EAAaJ,aAAY,SAACC,GAAD,OAAWA,EAAMI,SAAS5G,UAInD6G,EAAkB,SAAC7I,GACvBC,EPyGG,SAAoBD,EAAQsC,GACjC,OAAO,SAACrC,GAMN,OALAA,EAAS,CACPE,KAAMlB,EACNe,SACAsC,OAAQA,GAAkB,YAErBlC,IAAM,CACXC,IAAI,cAAD,OAAgBL,GACnBM,OAAQ,SACRG,iBAAiB,KOnHVqI,CAAW9I,EAAmB,SAAXsC,EAAoB,KAAOA,IACvD6F,GAAU,IAEZ,OAAKvK,EAIH,mCACE,sBAEEmL,UAAS,yBACU,SAAjBT,EAA0B,iBAAmB,GADtC,KAFX,UAME,sBACES,UAAS,iCACQ,YAAfJ,EAA2B,uBAAyB,IAFxD,UAKE,oBAAGI,UAAW,cAAd,eACKnL,EAAKoL,OAASpL,EAAKoL,OAAOhF,SAAW,aAE1C,oBAAI+E,UAAU,aAAd,SACE,cAAC,KAAD,CACEE,QAAS,WACPhJ,EAASiD,GAAgBtF,EAAKsE,OAEhCgH,GAAI,CACFC,SAAS,SAAD,OAAWvL,EAAKsE,KACxBsG,MAAO,CACLY,OAAO,IAPb,SAWGxL,EAAKwJ,UAGV,sBAAK2B,UAAU,iBAAf,UACE,6BACE,cAAC,GAAD,CACEA,UACqB,IAAnBnL,EAAKyD,UAAL,4BAEwB,SAAjBiH,EAA0B,kBAAoB,IAEvDe,IAAI,OAGR,6BAAKzL,EAAK0L,YACV,6BACE,cAAC,GAAD,CACEP,WACsB,IAApBnL,EAAKyD,UAAL,4BAEwB,SAAjBiH,EAA0B,kBAAoB,IAEvDe,IAAI,aAKXzL,EAAKoL,QAAUN,IAAgB9K,EAAKoL,OAAO9G,IAC1C,qBAAK6G,UAAU,qBAAf,SACE,sBAAKA,UAAU,mBAAf,UACGd,EACC,sBAAKc,UAAU,2BAAf,UACE,8BACE,mBAAGA,UAAU,iBAAb,uBAEF,oBACEE,QAAS,kBAAMJ,EAAgBjL,EAAKsE,MACpC6G,UAAU,oBAFZ,iBAMA,oBAAIA,UAAU,sBAAd,eACA,oBAAIA,UAAU,oBAAd,mBAEA,KACJ,wBAAQE,QAnFC,WACnBf,GAAWD,IAkF8Bc,UAAU,gBAAzC,SACE,cAAC,KAAD,CAAYA,UAAU,mBAI1B,OA3ECnL,EAAKsE,OALP,OCyDIqH,GA/ED,SAACjC,GAAW,IAAD,EACSU,mBAAS,IADlB,mBAChBhE,EADgB,KACNwF,EADM,OAESxB,mBAAS,IAFlB,mBAEhB/D,EAFgB,KAENwF,EAFM,KAGjBxJ,EAAWoI,cACXC,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAKjB9D,GAHO4D,aAAY,SAACC,GACxB,OAAOA,EAAMzE,MAAM2F,cAEPnB,aAAY,SAACC,GACzB,OAAOA,EAAMzE,MAAMU,QAEfkF,EAAc,SAACpI,GACL,UAAVA,EAAEyE,KAA8B,UAAXzE,EAAEpB,MACzBF,EAAS8D,GAAMC,EAAUC,IAAWvD,MAAK,SAACkJ,GAC9B,UAANA,GACFC,OAAOC,SAASC,aAOxB,OACE,qBAAKhB,UAAU,sBAAf,SACE,sBACEA,UAAS,2BACU,SAAjBT,EAA0B,mBAAqB,IAFnD,UAKE,sBAAKS,UAAU,mCAAf,UACE,mBACEA,UAAS,4BACU,SAAjBT,EAA0B,iBAAmB,IAFjD,mBAOA,wBACEW,QAAS3B,EAAM0C,MACfjB,UAAS,8BACU,SAAjBT,EAA0B,iBAAmB,IAHjD,kBASF,sBAAKS,UAAU,wBAAf,UACE,uBACEkB,SAAU,SAAC1I,GACTiI,EAAYjI,EAAEoE,OAAOuE,QAEvBnB,UAAS,sBACU,SAAjBT,EAA0B,kBAAoB,IAEhD6B,YAAY,WACZhK,KAAK,SAEP,uBACEiK,UAAWT,EACXM,SAAU,SAAC1I,GACTkI,EAAYlI,EAAEoE,OAAOuE,QAEvBnB,UAAS,sBACU,SAAjBT,EAA0B,kBAAoB,IAEhD6B,YAAY,WACZhK,KAAK,aACJ,IACH,mBAAG4I,UAAS,eAAZ,SAA+BpE,IAC/B,wBAAQsE,QAASU,EAAaZ,UAAU,eAAxC,6BC+BKsB,GAnGA,SAAC/C,GAAW,IAAD,EACQU,mBAAS,IADjB,mBACjBhE,EADiB,KACPwF,EADO,OAEQxB,mBAAS,IAFjB,mBAEjB/D,EAFiB,KAEPwF,EAFO,OAGsBzB,mBAAS,IAH/B,mBAGjBxD,EAHiB,KAGA8F,EAHA,KAIlBhC,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAEjBxI,EAAWoI,cACXkC,EAAOhC,aAAY,SAACC,GACxB,OAAOA,EAAMzE,MAAM2F,cAEf/E,EAAQ4D,aAAY,SAACC,GACzB,OAAOA,EAAMjE,OAAOE,OAEhBC,EAAgB6D,aAAY,SAACC,GACjC,OAAOA,EAAMjE,OAAOG,iBAkBtB,OANI6F,GACFV,OAAOC,SAASC,SAElBS,qBAAU,WACRvK,ER4GK,CACLE,KAAM/B,MQ5GL,CAAC6B,IAEF,qBAAK8I,UAAU,sBAAf,SACE,sBACEA,UAAS,2BACU,SAAjBT,EAA0B,mBAAqB,IAFnD,UAKE,sBAAKS,UAAU,mCAAf,UACE,mBACEA,UAAS,4BACU,SAAjBT,EAA0B,iBAAmB,IAFjD,qBAOA,wBACEW,QAAS3B,EAAM0C,MACfjB,UAAS,8BACU,SAAjBT,EAA0B,iBAAmB,IAHjD,kBASF,sBAAKS,UAAU,wBAAf,UACE,uBACEkB,SAAU,SAAC1I,GACTiI,EAAYjI,EAAEoE,OAAOuE,QAEvBjB,QAtCU,WAClBhJ,EAAS,CAAEE,KAAMf,KAsCT2J,UAAS,sBACU,SAAjBT,EAA0B,kBAAoB,IAEhD6B,YAAY,WACZhK,KAAK,SAEP,mBAAG4I,UAAS,eAAZ,SAA+BpE,IAC/B,uBACEsF,SAAU,SAAC1I,GACTkI,EAAYlI,EAAEoE,OAAOuE,QAEvBnB,UAAS,sBACU,SAAjBT,EAA0B,kBAAoB,IAEhD6B,YAAY,WACZhK,KAAK,aAEP,mBAAG4I,UAAS,eAAZ,SAA+BrE,IAC/B,uBACEuF,SAAU,SAAC1I,GACT+I,EAAmB/I,EAAEoE,OAAOuE,QAE9BnB,UAAS,sBACU,SAAjBT,EAA0B,kBAAoB,IAEhD6B,YAAY,wBACZhK,KAAK,aAEP,wBAAQ8I,QA1EK,WACnBhJ,EAASsE,GAAOP,EAAUC,EAAUO,IAAkB9D,MAAK,SAACC,GAC9C,WAARA,GACD,QAuEgCoI,UAAU,eAAzC,8BCuGK0B,OAxLf,SAAcnD,GACZ,IAwBIoD,EAxBEzK,EAAWoI,cACXsC,EAAWpC,aAAY,SAACC,GAC5B,OAAOA,EAAMvF,MAAM7B,QAEfkH,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WANJ,EAQiBT,oBAAS,GAR1B,mBAQZ4C,EARY,KAQAC,EARA,KASbf,EAAWgB,cACXC,EAAWxC,aAAY,SAACC,GAAD,OAAWA,EAAMzE,MAAM2F,cAC9Cf,EAAaJ,aAAY,SAACC,GAAD,OAAWA,EAAMvF,MAAMjB,UAChDM,EAAS0I,cACTC,EAAe1C,aAAY,SAACC,GAAD,OAAWA,EAAMI,SAASqC,gBACrDC,EAAY3C,aAAY,SAACC,GAAD,OAAWA,EAAMI,SAASsC,aAClDC,EAAaF,EAAaC,GAC5BE,EAAc9D,EAAMS,QAAQ+B,SAASuB,OACnCC,EAAW/C,aAAY,SAACC,GAC5B,OAAOA,EAAMvF,MAAMJ,UAEjB0I,EAAQ,IAAIC,gBAAgBJ,GAAa1I,IAAI,SAC7C+I,EAAS,IAAID,gBAAgBJ,GAAa1I,IAAI,UAC9CD,EAAS8I,EAAS,QAAaE,GAAU,SACzCxJ,EAAKsJ,GAASE,EAGdN,IACFT,EAAiBS,EAAWO,KAAI,SAACzJ,GAC/B,OAAO0I,EAAS1I,OAIpB,IAAM0J,EAAYC,uBAChB,SAACC,GACC,IAGIC,GAAc,EACdC,EAAW,IAAIC,sBAAqB,SAAUC,EAASF,GACrDE,EAAQ,GAAGC,kBAAoB,GAAKJ,GAAeR,IACrDS,EAASI,aACTlM,EAAS6C,GAASwI,EAAUhJ,IAAS5B,MAAK,SAACsB,GACzC8J,GAAc,EACC,cAAX9J,GACF+J,EAASK,QAAQP,SAVT,CACdQ,UAAW,CAAC,KAcV3B,EAAe5E,OAAS,GAAK+F,GAAwB,SAAhBvJ,EAAOK,KAC9CoJ,EAASK,QAAQP,GAEjBE,EAASI,eAGb,CAACb,EAAUZ,IAEbF,qBAAU,WACSV,EAASX,SAASmD,MAAM,OACxC,IACH9B,qBAAU,WACR,IAAM+B,EAAWzC,EAASX,SAASmD,MAAM,KAErB,SAAhBhK,EAAOK,OAAkC,IAAfiI,EAC5B3K,EAASiD,GAAgBqJ,EAAS,KAAKjI,OAAM,SAACG,QAEtB,IAAfmG,GACT3K,EACEuC,GAAWC,EAAOR,EAAoB,SAAhBK,EAAOK,KAAkB,KAAOL,IACtD5B,MAAK,SAACH,GACFA,EAAKuF,OAAS,GAChB+E,GAAc,QAInB,CAACvI,EAAOK,OACX,IAAI6J,EAAUvB,EAAaC,GACrBuB,EAAiB,SAACtM,GVvDnB,IAA+BsB,EUwD7BsJ,GACHzD,EAAMoF,kBAERzM,GV3DkCwB,EU2DHtB,EV1D1B,SAACF,GACNA,EAAS,CAAEE,KAAM3B,EAAsCiD,gBU0DvDxB,EVLK,CACLE,KAAMzB,KUMR,OAAK8N,EAIH,qCACE,sBACEzD,UAAS,uBAAmC,SAAjBT,EAA0B,YAAc,IADrE,UAGGhB,EAAMqF,WAAa,cAAC,GAAD,IAAa,KACjC,sBACE5D,UAAS,6BACU,SAAjBT,EAA0B,mBAAqB,IAFnD,UAKE,cAAC,KAAD,CAAMY,GAAG,GAAT,SACE,qBACEH,UAAS,iCACU,SAAjBT,EAA0B,mBAAqB,IAEjDsE,IAAKC,GACLxD,IAAI,OAGR,cAAC,KAAD,CACEJ,QAAS,kBAAMwD,EAAe,SAC9BvD,GAAI6B,EAAW,YAAc,GAC7BhC,UAAU,2BAHZ,SAKE,uBACEoB,YAAY,cACZpB,UAAS,yBACU,SAAjBT,EAA0B,mBAAqB,IAEjDnI,KAAK,WAGT,cAAC,KAAD,CACE8I,QAAS,kBAAMwD,EAAe,UAC9BvD,GAAI6B,EAAW,uBAAyB,GAF1C,SAIE,qBAAKhC,UAAU,cAAc6D,IAAKE,GAAWzD,IAAI,OAEnD,cAAC,KAAD,CACEJ,QAAS,kBAAMwD,EAAe,SAC9BvD,GAAI6B,EAAW,sBAAwB,GAFzC,SAIE,qBAAKhC,UAAU,cAAc6D,IAAKG,GAAU1D,IAAI,UAGpD,sBACEN,UAAS,+BACU,SAAjBT,EAA0B,mBAAqB,IAFnD,UAKE,cAAC,KAAD,CACEY,GAAG,OACHH,UAAS,UAAsB,SAAjBT,EAA0B,mBAAqB,IAC7DW,QAAS,kBACPhJ,EAASuC,GAAWC,EAAOR,EAAI,CAAEU,KAAM,OAAS,WAJpD,iBASA,cAAC,KAAD,CACEoG,UAAS,UAAsB,SAAjBT,EAA0B,mBAAqB,IAC7DY,GAAG,OACHD,QAAS,kBACPhJ,EAASuC,GAAWC,EAAOR,EAAI,CAAEU,KAAM,OAAS,WAJpD,iBASA,cAAC,KAAD,CACEoG,UAAS,UAAsB,SAAjBT,EAA0B,mBAAqB,IAC7DY,GAAG,OACHD,QAAS,kBACPhJ,EAASuC,GAAWC,EAAOR,EAAI,CAAEU,KAAM,OAAS,WAJpD,oBAUF,sBAAKoG,UAAW,kBAAhB,UACG2B,EAAegB,KAAI,SAAC9N,GACnB,GAAIA,EACF,OAAO,cAAC,GAAD,CAAMmK,QAAST,EAAsB1J,KAAMA,GAAhBA,EAAKsE,QAG3C,qBAAK6G,UAAU,6BAGnB,qBAAKA,UAAU,oBAAf,SACE,qBACEA,UAA0B,YAAfJ,EAA2B,gBAAkB,eAG5D,sBAAMjB,IAAKiE,OA/FN,yB,oBCrGI,OAA0B,6CCA1B,OAA0B,qCCyS1BqB,oBA/Rf,SAAgB1F,GAAQ,IAoClB4C,EApCiB,EACWlC,oBAAS,GADpB,mBACdiF,EADc,KACJC,EADI,OAEiBlF,mBAAS,IAF1B,mBAEdmF,EAFc,KAEDC,EAFC,OAGmBpF,oBAAS,GAH5B,gCAIqBA,mBAAS,KAJ9B,mBAIdqF,EAJc,KAICC,EAJD,OAKmBtF,oBAAS,GAL5B,mBAKduF,EALc,KAKAC,EALA,KAMf9E,EAAcH,aAAY,SAACC,GAC/B,OAAOA,EAAME,eAETqC,EAAWxC,aAAY,SAACC,GAC5B,OAAOA,EAAMzE,MAAM2F,cAEf+D,EAAelF,aAAY,SAACC,GAChC,OAAOA,EAAMiF,gBAETxN,EAAWoI,cACXqF,EAASnF,aAAY,SAACC,GAC1B,OAAOA,EAAMvF,MAAMyK,UAEf9P,EAAO2K,aAAY,SAACC,GACxB,OAAOA,EAAMvF,MAAM7B,QAEjBuM,EAAYD,EAAOhC,KAAI,SAAC9B,GAC1B,OAAOhM,EAAKgM,MAERtB,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAKjBmF,EAAiB,WACrB3N,EAAS,CACPE,KAAuB,SAAjBmI,EAA0BzI,EAAqBD,KAInDiO,EAAmB,yCAAG,WAAOtM,GAAP,kBAAAuM,EAAA,6DAC1BV,EAAe7L,EAAEoE,OAAOuE,OACxBA,EAAQ3I,EAAEoE,OAAOuE,MAFS,SAGNA,EAAM6D,YAHA,cAGtBC,EAHsB,gBAILL,EAAUM,QAAO,SAACrQ,GAErC,OADc,IAAIsQ,OAAO,IAAMF,EAAS,MAC3BG,KAAKvQ,EAAKwJ,UANC,OAItBgH,EAJsB,OAQ1Bd,EAAiBc,GARS,2CAAH,sDAUnBC,EAAoB,WACxBb,GAAiBD,IAUbe,EAAc,WACdf,GACFC,GAAgB,IAkBpB,OAPAhD,qBAAU,WAGR,OAFA+D,SAASnH,MAAQ,SACjBmH,SAASC,KAAKC,iBAAiB,QAASH,GACjC,WACLC,SAASC,KAAKE,oBAAoB,QAASJ,MAE5C,CAACA,IAEF,qCACE,qBAAKvF,UAAS,kBAAd,SACE,qBACEA,UAAS,2BACU,SAAjBT,EAA0B,gBAAkB,GADrC,KADX,SAKE,sBAAKS,UAAU,iBAAf,UACE,6BACE,cAAC,KAAD,CACEG,GAAI,CAAEC,SAAU,KAChBwF,QAA6C,MAApCrH,EAAMS,QAAQ+B,SAASX,SAChCF,QA5BU,WACtBsF,SAASC,KAAKI,MAAMC,SAAW,GAC3BpB,EAAa7P,KAAKkR,QAEG,MAArBxH,EAAMc,MAAM2G,MACd9O,EAASuC,OAwBCuG,UAAU,OAJZ,sBASF,sBAAKA,UAAW,uBAAhB,UACE,uBACEE,QAASoF,EACTpE,SAAU,SAAC1I,GAAD,OAAOsM,EAAoBtM,IACrCwH,UAAS,qBACU,SAAjBT,EAA0B,kBAAoB,GADvC,KAGT6B,YAAY,SACZhK,KAAK,SAEP,sBAAM4I,UAAU,cAAhB,SACE,qBAAK6D,IAAKoC,GAAY3F,IAAI,OAE5B,qBACEJ,QAAS,SAAC1H,GAAD,OAAO8M,KAChBtF,UAAS,UACPwE,EAAY,oCAEW,SAAjBjF,EACI,4BACA,IAEN,YATR,SArDH,8BAiES6F,KAAKhB,GACLE,EAAc3B,KAAI,SAAC9N,GACjB,OACE,qCACG,IACD,qBACEmL,UAAS,kCACNwE,EAA+B,KAAhC,cADO,KADX,SAME,cAAC,KAAD,CACExE,UAAS,8BACU,SAAjBT,EACI,0BACA,IAENY,GAAE,gBAAWtL,EAAKsE,KANpB,SAQGtE,EAAKwJ,SAVHxJ,EAAKsE,WAgBlB,UAGN6I,EAsEA,qCACE,cAAC,KAAD,CACEhC,UACmB,SAAjBT,EACI,kBACA,kBAENW,QAAS2E,IAEX,sBAAK7E,UAAU,kBAAf,UACE,yBACEE,QAAS,WA1MzBiE,GAAaD,IA2MGlE,UAAS,mCACU,SAAjBT,EAA0B,mBAAqB,IAHnD,UAME,sBAAKS,UAAU,mBAAf,UACE,qBACEA,UAAS,gCACU,SAAjBT,EAA0B,mBAAqB,IAEjDsG,MAAO,CAAEK,gBAAiB,sBAC1BrC,IAAKC,GACLxD,IAAI,KAEN,mBACEN,UAAS,kCACU,SAAjBT,EAA0B,iBAAmB,IAFjD,SAKGI,EAAY1E,cAGjB,qBACE+E,UAAU,0BACV6D,IAAKsC,GACL7F,IAAI,QAGP4D,EACC,qBAAKlE,UAAU,4BAAf,SACE,oBAAIA,UAAU,kBAAd,SACE,6BACE,wBACEE,QAtNL,WACnBhJ,EAAS2D,MAAUlD,MAAK,SAACH,GACH,MAAhBA,EAAKyB,QACP6H,OAAOC,SAASC,aAoNIhB,UAAS,kCACU,SAAjBT,EACI,+BACA,IALR,0BAaJ,WA7HR,qCACE,cAAC,KAAD,CACES,UACmB,SAAjBT,EACI,kBACA,kBAENW,QAAS2E,IAEX,sBAAK7E,UAAU,+BAAf,UACE,wBACEA,UAA4B,SAAjBT,EAA0B,YAAc,GACnDW,QAAS3B,EAAMoF,gBAFjB,oBAMA,wBAAQzD,QAAS3B,EAAM6H,iBAAvB,wBAEF,qBAAKpG,UAAU,sBAAf,SACE,sBAAKA,UAAU,6BAAf,UACE,uBACE5I,KAAK,WACL8B,GAAG,UACH8G,UAAW,iBAEb,uBACEqG,QAAQ,UACRrG,UAAS,uBACU,SAAjBT,EAA0B,mBAAqB,GADxC,KAFX,SAME,qBAAKS,UAAW,8BAAhB,SACE,sBAAMA,UAAW,0BAGrB,sBAAKA,UAAU,2BAAf,UACE,oBACEA,UAAS,yBACU,SAAjBT,EACI,0BACA,GAHG,KADX,SAOE,wBACES,UAAU,wBACVE,QAAS3B,EAAMoF,gBAFjB,sBAOF,oBACE3D,UAAS,yBACU,SAAjBT,EACI,0BACA,GAHG,KADX,SAOE,wBACES,UAAU,wBACVE,QAAS3B,EAAM6H,iBAFjB,yCA2ElB,8BChHSE,GAjLC,WACd,IAGI5M,EAFK,IAAI+I,gBAAgBV,cAAcO,QAGvCiE,EAAW7M,EAAMC,IAAI,SACrB6M,EAAY9M,EAAMC,IAAI,QACtBd,EAAiB2G,aAAY,SAACC,GAChC,OAAOA,EAAM7G,wBAAwBC,kBAEjCmG,EAAUyH,cACVvP,EAAWoI,cAXG,EAYML,mBAAS,IAZf,mBAYbZ,EAZa,KAYNqI,EAZM,OAaIzH,mBAAS,IAbb,mBAab0H,EAba,KAaPC,EAbO,OAcU3H,mBAAS,IAdnB,mBAcb4H,EAda,KAcFC,EAdE,KAedC,EAAcvH,aAAY,SAACC,GAC/B,OAAOA,EAAMvF,MAAM8M,aAEfC,EAAgBzH,aAAY,SAACC,GAAD,OAAWA,EAAMzE,MAAMkM,YAEnDC,GADiB3H,aAAY,SAACC,GAAD,OAAWA,EAAMzE,MAAM2F,cACxCnB,aAAY,SAACC,GAC7B,OAAOA,EAAMvF,MAAMiN,cAEf5H,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAavB,GAXA+B,qBAAU,cAAU,IACpBA,qBAAU,WACJ8E,EACF1N,EAAiB,QACR2N,IACT3N,EAAiB,QAEfkO,GACF/H,EAAQoI,KAAR,gBAAsBD,MAEvB,CAACJ,IACAE,EACF,OAAO,wBAuBT,OACE,qBACEjH,UAAS,0BACU,SAAjBT,EAA0B,YAAc,IAF5C,SAKE,sBAAKS,UAAU,oBAAf,UACE,mBAAGA,UAAU,gBAAb,2BACA,sBACEA,UAAS,2BACU,SAAjBT,EAA0B,+BAAiC,IAF/D,UAKE,sBAAKS,UAAU,kBAAf,UACE,wBACEA,UACqB,SAAnBnH,EAAA,gDAEuB,SAAjB0G,EAA0B,mBAAqB,IAFrD,6BAKuB,SAAjBA,EAA0B,mBAAqB,GALrD,KAQFW,QApCW,WACrBY,OAAO9B,QAAQqI,aAAa,QAAS,QAAS,aAC9CnQ,EAASuB,GAAyB,UAwB1B,kBAcA,yBACEuH,UACqB,UAAnBnH,EAAA,gDAEuB,SAAjB0G,EAA0B,mBAAqB,IAFrD,6BAKuB,SAAjBA,EAA0B,mBAAqB,GALrD,KAQFW,QA9CY,WACtBhJ,EAASuB,GAAyB,UAClCqI,OAAO9B,QAAQqI,aAAa,QAAS,QAAS,cAkCtC,oBAYU,IAZV,YAcA,wBACErH,UACqB,SAAnBnH,EAAA,gDAEuB,SAAjB0G,EAA0B,mBAAqB,IAFrD,6BAKuB,SAAjBA,EAA0B,mBAAqB,GALrD,KAQFW,QAxDW,WACrBhJ,EAASuB,GAAyB,SAClCqI,OAAO9B,QAAQqI,aAAa,QAAS,QAAS,cA4CtC,qBAeF,uBAAMC,OAAO,GAAb,UACE,qBAAKtH,UAAU,0BAAf,SACE,uBACEkB,SAAU,SAAC1I,GACTkO,EAASlO,EAAEoE,OAAOuE,QAEpBC,YAAY,QACZpB,UAAS,wBACU,SAAjBT,EAA0B,kBAAoB,IAEhDnI,KAAK,WAGT,sBAAK4I,UAAU,0BAAf,UACsB,UAAnBnH,EACC,qBAAKmH,UAAU,yBAAf,SACE,uBACEkB,SAAU,SAAC1I,GACTsO,EAAStO,EAAEoE,OAAO2K,MAAM,KAE1BvH,UAAU,eACV5I,KAAK,OACLoQ,KAAK,GACLtO,GAAG,iBAIP,0BACEgI,SAAU,SAAC1I,GACToO,EAAQpO,EAAEoE,OAAOuE,QAEnBC,YAAY,iBACZpB,UAAS,wBACU,SAAjBT,EAA0B,kBAAoB,IAEhDiI,KAAK,GACLtO,GAAG,GACHuO,KAAK,KACLC,KAAK,OAGT,qBAAK1H,UAAU,8BAAf,SACE,wBACE5I,KAAK,SACL8I,QAAS,SAAC1H,GAAD,OA1HN,SAACA,GAClBA,EAAEmP,iBACF,IAAMnQ,EAAO,IAAIoQ,SACjBpQ,EAAKqQ,OAAO,QAASxJ,GACrB7G,EAAKqQ,OAAO,UAAWlB,GACvBnP,EAAKqQ,OAAO,OAAQhB,GAEpB3P,EAAS6B,GAAWvB,IAmHUsQ,CAAWtP,IAC3BwH,UAAS,6BACU,SAAjBT,EAA0B,mBAAqB,IAJnD,mCCpKD,OAA0B,uCCAzC,SAAS,KAA2Q,OAA9P,GAAWjF,OAAOqC,QAAU,SAAUC,GAAU,IAAK,IAAIC,EAAI,EAAGA,EAAIC,UAAUC,OAAQF,IAAK,CAAE,IAAIG,EAASF,UAAUD,GAAI,IAAK,IAAII,KAAOD,EAAc1C,OAAO4C,UAAUC,eAAeC,KAAKJ,EAAQC,KAAQL,EAAOK,GAAOD,EAAOC,IAAY,OAAOL,IAA2BS,MAAMC,KAAMR,WAEhT,SAAS,GAAyBE,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAAkEC,EAAKJ,EAAnED,EAEzF,SAAuCI,EAAQQ,GAAY,GAAc,MAAVR,EAAgB,MAAO,GAAI,IAA2DC,EAAKJ,EAA5DD,EAAS,GAAQa,EAAanD,OAAOC,KAAKyC,GAAqB,IAAKH,EAAI,EAAGA,EAAIY,EAAWV,OAAQF,IAAOI,EAAMQ,EAAWZ,GAAQW,EAASE,QAAQT,IAAQ,IAAaL,EAAOK,GAAOD,EAAOC,IAAQ,OAAOL,EAFxM,CAA8BI,EAAQQ,GAAuB,GAAIlD,OAAOsD,sBAAuB,CAAE,IAAIC,EAAmBvD,OAAOsD,sBAAsBZ,GAAS,IAAKH,EAAI,EAAGA,EAAIgB,EAAiBd,OAAQF,IAAOI,EAAMY,EAAiBhB,GAAQW,EAASE,QAAQT,IAAQ,GAAkB3C,OAAO4C,UAAUY,qBAAqBV,KAAKJ,EAAQC,KAAgBL,EAAOK,GAAOD,EAAOC,IAAU,OAAOL,EAMne,IAAI,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3IqB,EAAG,kaAGD8J,GAAqB,gBAAoB,IAAK,KAAmB,gBAAoB,IAAK,KAAmB,gBAAoB,OAAQ,CAC3I9J,EAAG,sYAGD+J,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAqB,gBAAoB,IAAK,MAE9CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAE/CC,GAAsB,gBAAoB,IAAK,MAEnD,SAASC,GAAQ5K,EAAMC,GACrB,IAAIC,EAAQF,EAAKE,MACbC,EAAUH,EAAKG,QACfC,EAAQ,GAAyBJ,EAAM,CAAC,QAAS,YAErD,OAAoB,gBAAoB,MAAO,GAAS,CACtDO,QAAS,sBACTC,IAAKP,EACL,kBAAmBE,GAClBC,GAAQF,EAAqB,gBAAoB,QAAS,CAC3DnF,GAAIoF,GACHD,GAAS,KAAM,GAAO0J,GAAOC,GAAOC,GAAOC,GAAOC,GAAOC,GAAOC,GAAOC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,GAAQC,IAG5I,IAAI,GAA0B,aAAiBC,IC5DhC,ID6DA,IC7DA,IAA0B,sCCWnCC,GAAU,SAAC,GAAkC,IAAhCzU,EAA+B,EAA/BA,QAASoP,EAAsB,EAAtBA,gBAAsB,EACtB1E,mBAAS,IADa,mBACzCgK,EADyC,KAClCC,EADkC,KAE1C3J,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAEjBsC,EAAWxC,aAAY,SAACC,GAAD,OAAWA,EAAMzE,MAAM2F,cAE9CzJ,EAAWoI,cAP+B,EAQdL,mBAAS,IARK,mBAQzCkK,EARyC,KAQ9BC,EAR8B,OASVnK,oBAAS,GATC,mBASzCoK,EATyC,KAS5BC,EAT4B,KAqDhD,OAjBA7H,qBAAU,WAER,IADA,IAAI8H,EAAW,GACN1M,EAAI,EAAGA,GAAKtI,EAAQiV,MAAO3M,IAClC0M,EAASnC,KACP,qBAEEvB,MAAO,CACL4D,KAAY,IAAN5M,EAAU,EAAQ,GAAJA,GAEtBmD,UAAU,wBALZ,SAOE,oBAAIA,UAAU,iBANTzL,EAAQ4E,IAAM,OAAS0D,IAUlCqM,EAASK,KACR,CAAChV,IACCA,GAAoC,kBAAlBA,EAAQiV,MAI7B,sBACE3D,MAAO,CACL6D,SAAU,WACVC,YAA+B,IAAlBpV,EAAQiV,MAAc,GAAqB,GAAhBjV,EAAQiV,MAAa,GAC7DI,WAAY,QAJhB,UAOGX,EAAMtG,KAAI,SAACkH,GACV,OAAOA,KAET,sBAAK7J,UAAU,+BAAf,UACG,IACD,qBAAKA,UAAU,yBAAf,SACE,sBAAKA,UAAU,gCAAf,UACE,cAAC,GAAD,CACEA,UACwB,IAAtBzL,EAAQ+D,UACJ,4BADJ,UAGuB,SAAjBiH,EACI,kBACA,uBAGZsE,IAAKiG,GACL5J,QAxEG,WACT8B,EACF9K,EAASc,EAAmB,EAAGzD,EAAQkD,OAAQlD,EAAQ4E,MAEvDwK,KAqEQrD,IAAI,KAEN,sBAAMN,UAA4B,SAAjBT,EAA0B,iBAAmB,GAA9D,SACGhL,EAAQgM,YAEX,cAAC,GAAD,CACEP,WACyB,IAAvBzL,EAAQ+D,UAAR,sCAGuB,SAAjBiH,EACI,kBACA,uBAGZsE,IAAKkG,GACL7J,QAlFK,WACX8B,EACF9K,EAASc,GAAoB,EAAGzD,EAAQkD,OAAQlD,EAAQ4E,MAExDwK,YAkFE,sBAAK3D,UAAU,oBAAf,UACE,mBACEA,UAAS,yBACU,SAAjBT,EAA0B,iBAAmB,IAFjD,SAKGhL,EAAQ0L,OAAOhF,WAElB,qBACE+E,UAAS,yBACU,SAAjBT,EAA0B,iBAAmB,IAFjD,SAKGhL,EAAQyC,UAEX,sBAAKgJ,UAAU,yBAAf,UACGgC,EACC,wBAAQ9B,QAhGM,WACxBoJ,GAAgBD,GAChBnS,EnBgDK,CACLE,KAAMvB,EACNuP,KAAM,MmB4CwCpF,UAAU,eAA9C,mBAGE,KACHqJ,EACC,sBAAKrJ,UAAU,wBAAf,UACE,0BACEmB,MAAOgI,EACPjI,SAAU,SAAC1I,GACT4Q,EAAa5Q,EAAEoE,OAAOuE,QAExBC,YAAY,0BACZpB,UAAU,6BACV0H,KAAK,MAEP,qBAAK1H,UAAU,2BAAf,SACE,wBACEE,QA7GE,WAClB,IAAIhI,EAAY3D,EAAQ4E,IACxBjC,EnBsFG,SAAkBF,EAASC,EAAQiB,EAAW8R,GACnD,OAAO,SAAC9S,EAAUC,GAChB,IACM8S,EADO9S,IAAW+C,MAAM7B,KAAKpB,GACVrC,SAASsV,WAAU,SAAC3V,GAC3C,OAAOA,IAAY2D,KAErBiS,QAAQC,IAAIH,GAEZ5S,IAAM,CACJC,IAAI,gBACJC,OAAQ,OACRC,KAAM,CACJR,UACAgT,eAAgBA,GAAkB9R,EAClCT,OAAQR,EACRoT,SAAUnS,GAEZR,iBAAiB,IAChBC,MAAK,SAACC,GACPV,EAAS,CACPE,KAAMtB,EACNwU,MAAO1S,EAAIJ,KACXyS,cACAhT,SACAiB,kBmB7GFqS,CAASpB,EAAW5U,EAAQkD,OAAQS,EAAW3D,EAAQyV,iBAEzDV,GAAe,GACfF,EAAa,KAwGGpJ,UAAU,wBAFZ,wBAQF,iBA1FL,MAiGIwK,OAAMC,KAAKzB,IAAS,SAAC0B,EAAMC,GACxC,GAAID,EAAKnW,QAAQ+D,YAAcqS,EAAKpW,QAAQ+D,UAC1C,OAAO,K,MC8GIsS,oBARf,SAAyBnL,EAAOoL,GAC9B,IAAI3R,EAAK2R,EAASxL,MAAM9F,OAAOL,GAG/B,MAAO,CACLrE,KAFK4K,EAAMvF,MAAM7B,KAAKa,MAKX0R,EArQG,SAACrM,GACF0D,cAAf,IACM/K,EAAWoI,cACXN,EAAUyH,cAHW,EAIWxH,mBAAS,IAJpB,mBAIpB6L,EAJoB,KAIPC,EAJO,OAKH9L,oBAAS,GALN,mBAKpB+L,EALoB,KAKdC,EALc,OAMKhM,mBAAS,IANd,mBAMpBiM,EANoB,KAMVC,EANU,KAQrBxL,EAAcH,aAAY,SAACC,GAAD,OAAWA,EAAME,YAAYxG,OACvDvE,EAAW4K,aAAY,SAACC,GAC5B,OAAOA,EAAM7K,SAASyD,QAElBqC,EAAaJ,OAAOC,KAAK3F,GACzBoN,EAAWxC,aAAY,SAACC,GAAD,OAAWA,EAAMzE,MAAM2F,cAChDyK,EAAc7M,EAAM1J,KAKlBwW,EAAgB,WACpBrM,EAAQoI,KAAK,MAaT7H,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAejB4L,EAAW,SAACpS,GnB8Eb,IAAkBjC,EAAQD,EmB7E7BE,GnB6EqBD,EmB7EHiC,EnB6EWlC,EmB7EPkU,EnB8EjB,SAAChU,GAEN,OADAA,EAAS,CAAEE,KAAMjB,EAAWc,SAAQD,YAC7BK,IAAM,CACXC,IAAI,cAAD,OAAgBL,GACnBM,OAAQ,MACRG,iBAAiB,EACjBF,KAAM,CACJR,QAASA,QmBpFbiU,GAAQ,IAEV,IAAKG,IAAgBxW,EACnB,OAAO,wBAET,IAAM2W,EAAO,IAAIC,KAAKJ,EAAYK,WAC5BC,EAAa,IAAIC,KAAKC,eAAe,QAAS,IAAIC,OAAON,GAMzDO,EACkB,IAAtBpR,EAAWqC,OACP,GACArC,EAAWiI,KAAI,SAACzJ,GACd,OAAOtE,EAASsE,MAKxB,OAHI4S,EAAa/O,OAIf,sBACEmD,QAASmL,EACTrL,UAAS,wBAAoC,SAAjBT,EAA0B,YAAc,IAFtE,UAIE,uBAAOnI,KAAK,WAAW8B,GAAG,UAAU8G,UAAW,iBAC/C,uBACEqG,QAAQ,UACRrG,UAAS,sBACU,SAAjBT,EAA0B,mBAAqB,IAHnD,SAME,qBAAKW,QAASmL,EAAerL,UAAW,4BAAxC,SACE,sBAAMA,UAAW,wBAGrB,sBACEE,QAzEO,SAAC1H,GACZA,EAAEuT,mBAyEE/L,UAAS,qBACU,SAAjBT,EAA0B,mBAAqB,IAHnD,UAME,qCACE,oBAAGS,UAAU,oBAAb,UACG,IADH,KAEKoL,EAAYnL,OAASmL,EAAYnL,OAAOhF,SAAW,aAExD,mBACE+E,UAAS,qBACU,SAAjBT,EAA0B,iBAAmB,IAFjD,SAKGmM,IACE,IACL,oBACE1L,UAAS,2BACU,SAAjBT,EAA0B,iBAAmB,IAFjD,SAKG6L,EAAY/M,WAGjB,qCACG+M,EAAYnL,QAAUN,IAAgByL,EAAYnL,OAAO9G,IACxD,sBAAK6G,UAAU,iBAAf,UACE,mBAAGA,UAAS,6BAAwBgL,EAAO,WAAa,KAA5C,KAAZ,SACGI,EAAYpU,UAEf,0BACEkK,SAAU,SAAC1I,GACT2S,EAAY3S,EAAEoE,OAAOuE,QAEvBnB,UAAWgL,EAAO,iBAAmB,WACrC7J,MAAO+J,IAET,sBAAKlL,UAAWgL,EAAI,mCAApB,UACE,wBACE9K,QAAS,kBAAMoL,EAASF,EAAYjS,MACpC6G,UAAU,qBAFZ,kBAMA,wBACEE,QAzFS,WACvB+K,GAAQ,IAyFMjL,UAAU,qBAFZ,uBAOF,wBACEA,UAAS,sBAAiBgL,EAAO,WAAa,MAC9C9K,QApGK,WACjB+K,GAAQ,IAiGE,SAIE,cAAC,GAAD,SAGF,KACJ,qBAAKjL,UAAU,uBAAf,SACE,qBAAKA,UAAU,aAAa6D,IAAKtF,EAAM1J,KAAKmX,MAAO1L,IAAI,OAExDX,EACC,sBAAKK,UAAU,wBAAf,UACE,0BACEA,UAAU,cACVwH,KAAK,GACLtO,GAAG,GACHkI,YAAY,0BACZsG,KAAK,IACLvG,MAAO2J,EACP5J,SAAU,SAAC1I,GAAD,OAAOuS,EAAevS,EAAEoE,OAAOuE,UAE3C,sBAAMnB,UAAU,2BAAhB,SACE,wBACEE,QAAS,WA9IvBhJ,EAASH,EAAW+T,EAAavM,EAAM1J,KAAKsE,MAC5C4R,EAAe,KAgJD/K,UAAU,wBAJZ,0BAWJ,sBACEA,UAAS,oCACU,SAAjBT,EAA0B,mBAAqB,GADxC,KADX,UAKE,mBAAGS,UAAU,kBAAb,kDAGA,sBAAKA,UAAU,wBAAf,UACE,wBACEA,UAA4B,SAAjBT,EAA0B,YAAc,GACnDW,QAAS3B,EAAMoF,gBAFjB,oBAMA,wBAAQzD,QAAS3B,EAAM6H,iBAAvB,2BAIN,sBAAKpG,UAAU,4BAAf,UACE,oBAAIE,QAzKO,WACf8B,EACF9K,EAAS4B,GAAY,EAAGyF,EAAM1J,KAAKsE,IAAKoF,EAAM1J,KAAKyD,YAEnDiG,EAAMoF,mBAqKA,SACE,cAAC,GAAD,CACE3D,UAC4B,IAA1BoL,EAAY9S,UAAZ,8BAGuB,SAAjBiH,EACI,kBACA,eAGZsE,IAAKiG,GACLxJ,IAAI,OAGR,oBAAIN,UAA4B,SAAjBT,EAA0B,iBAAmB,GAA5D,SACG6L,EAAY7K,YAEf,oBAAIL,QAjLS,WACjB8B,EACF9K,EAAS4B,IAAa,EAAGyF,EAAM1J,KAAKsE,IAAKoF,EAAM1J,KAAKyD,YAEpDiG,EAAMoF,mBA6KA,SACE,cAAC,GAAD,CACE3D,WAC6B,IAA3BoL,EAAY9S,UAAZ,8BAGuB,SAAjBiH,EACI,kBACA,eAGZsE,IAAKkG,GACLzJ,IAAI,UAIV,oBACEN,UAAS,iCACU,SAAjBT,EAA0B,iBAAmB,GADtC,KADX,sBAOA,qBAAKS,UAAU,yBAAf,SACG8L,EAAanJ,KAAI,SAACpO,GACjB,OACE,cAAC,GAAD,CACE0X,YAAarX,EACb+O,gBAAiBpF,EAAMoF,gBAEvBpP,QAASA,GADJA,EAAQ4E,sB,MClJhB+S,OAhGf,SAAa3N,GAAQ,IAAD,EACYU,oBAAS,GADrB,mBACXkN,EADW,KACAC,EADA,OAEcnN,oBAAS,GAFvB,gCAGwBA,oBAAS,IAHjC,mBAGXgI,EAHW,KAGIoF,EAHJ,OAIkBpN,oBAAS,GAJ3B,mBAIX2E,EAJW,KAIC0I,EAJD,KAKZC,EAAiB/M,aAAY,SAACC,GAAD,OAAWA,EAAME,YAAYgB,cAC1D6L,EAAiBhN,aAAY,SAACC,GAAD,OAAWA,EAAMjE,OAAOiR,cACrDvV,EAAWoI,cACXC,EAAeC,aAAY,SAACC,GAChC,OAAOA,EAAMC,QAAQA,WAEvB+B,qBAAU,WACRvK,EnB+FG,WACL,IAAMmE,EAAQP,aAAaqB,QAAQ,eACnC,gDAAO,WAAOjF,GAAP,gBAAA6N,EAAA,yDACA1J,EADA,yCAEI,aAFJ,cAILnE,EAAS,CAAEE,KAAMR,IAJZ,SAKcS,IAAM,CACvBK,iBAAiB,EACjBH,OAAQ,MACRD,IAAK,YARF,cAKCE,EALD,gBAWHN,EAAS,CACPE,KAAM5B,EACNyF,SAAUzD,EAAKA,KAAKyD,SACpBuG,KAAMhK,EAAKA,KAAK2B,MAdf,kBAgBI,aAhBJ,kCAkBHjC,EAAS2D,MAlBN,0DAAP,sDmBjGWmH,IAAYrK,MAAK,SAACH,GACrBA,GACF6U,GAAiB,QAGpB,CAACnV,IACJuK,qBAAU,WACJ8K,GACFH,GAAS,GAEPI,IAAmBD,IACrBD,GAAc,GACdF,GAAS,MAEV,CAACG,EAAgBC,IACpB,IAAM7I,EAAkB,WACtByI,GAAUD,IAEN/F,EAAmB,WACvBkG,GAAe1I,IAEX8I,EAAa,WACjBxV,EnBqEK,CACLE,KAAMT,ImBrENyV,GAAS,GACTE,GAAc,IAEVK,EAAqB,SAACC,EAAQhT,GAClC1C,EAAS6C,GAAS6S,EAAQhT,KAG5B,OACE,sBACEV,GAAG,iBACH8G,UAAS,sBAAkC,SAAjBT,EAA0B,YAAc,IAFpE,UAIG4M,EAAY,cAAC,GAAD,CAAOlL,MAAOyL,IAAiB,KAC3C9I,EAAa,cAAC,GAAD,CAAQ3C,MAAOyL,IAAiB,KAC9C,cAAC,GAAD,CACE/I,gBAAiBA,EACjByC,iBAAkBA,IAEpB,cAAC,IAAD,CACEyG,OAAK,EACL7G,KAAK,YACL8G,OAAQ,SAACvO,GACP,OACE,cAAC,GAAD,aACEoF,gBAAiBA,EACjByC,iBAAkBA,GACd7H,OAKZ,eAAC,IAAD,WACE,cAAC,IAAD,CACEsO,OAAK,EACL7G,KAAK,YACL8G,OAAQ,SAACvO,GACP,OAAO,cAAC,GAAD,eAAaA,KAJxB,SAOI0I,GAAkBsF,EAAuC,KAAtB,cAAC,IAAD,CAAUpM,GAAG,QAEpD,cAAC,IAAD,CACE6F,KAAM,CAAC,SAAU,KACjB8G,OAAQ,SAACC,GACP,OACE,cAAC,GAAD,yBACEpJ,gBAAiBA,EACjByC,iBAAkBA,EAClBuG,mBAAoBA,GAChBI,GAJN,IAKE3H,KAAM7G,EAAMrE,UAIlBiS,UAAWA,EACXvI,WAAYA,W,4CCnEtB,SAASoJ,GAAcC,EAAMC,GAC3B,IAAIC,EAAWF,EAAKG,OAAOF,GACvBG,EAAM,IAAIC,IAAIH,GAClB,OAAO,aAAIE,GAEb,SAASE,GAAW9N,EAAO6H,GACzB,OAAO,2BACF7H,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDiP,EAAOrQ,OAFN,2BAGGwI,EAAMpH,KAAKiP,EAAOrQ,SAHrB,IAIArC,SAAS,GAAD,oBACH6K,EAAMpH,KAAKiP,EAAOrQ,QAAQrC,UADvB,CAEN0S,EAAOzP,aAAasB,YAM9B,SAASqU,GAAgB/N,EAAO6H,GAAS,IAC/BrQ,EAAWqQ,EAAXrQ,OACAgB,EAAUqP,EAAVrP,MACAG,EAAqBkP,EAArBlP,iBACFvD,EAAO4K,EAAMpH,KAAKpB,GACxB,OAAIqQ,EAAOpP,UACFuH,EAEkB,IAArBrH,GAAoC,IAAVH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDpB,EAFC,2BAGGpC,GAHH,IAIAyD,UAAW,EACXiI,UAAWd,EAAMpH,KAAKpB,GAAQsJ,UAAY,QAKzB,IAArBnI,GAAoC,IAAVH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDpB,EAFC,2BAGGpC,GAHH,IAIAyD,UAAW,EACXiI,UAAWd,EAAMpH,KAAKpB,GAAQsJ,UAAY,QAKzB,IAArBnI,IAAqC,IAAXH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDpB,EAFC,2BAGGpC,GAHH,IAIAyD,WAAY,EACZiI,UAAWd,EAAMpH,KAAKpB,GAAQsJ,UAAY,QAKzB,IAArBnI,IAAqC,IAAXH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDpB,EAFC,2BAGGpC,GAHH,IAIAyD,WAAY,EACZiI,UAAWd,EAAMpH,KAAKpB,GAAQsJ,UAAY,SAKxB,IAAtBnI,IAAsC,IAAXH,EACtB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDpB,EAFC,2BAGGpC,GAHH,IAIAyD,UAAW,EACXiI,UAAWd,EAAMpH,KAAKpB,GAAQsJ,UAAY,SAKxB,IAAtBnI,GAAqC,IAAVH,EACtB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDpB,EAFC,2BAGGpC,GAHH,IAIAyD,UAAW,EACXiI,UAAWd,EAAMpH,KAAKpB,GAAQsJ,UAAY,aARlD,EAeJ,SAASkN,GAAqBhO,EAAO6H,GAAS,IACpCzS,EAAayS,EAAbzS,KAAMqE,EAAOoO,EAAPpO,GACd,OAAO,2BACFuG,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDa,EAAKrE,IAER8P,OAAO,GAAD,oBAAMlF,EAAMkF,QAAZ,CAAoBzL,IAC1BwU,YAAY,EACZC,aAAa,2BACRlO,EAAMkO,cADC,mBAETzU,EAAKrE,IAERmS,WAAW,EACXG,UAAWjO,IAGf,SAAS0U,GAAenO,EAAO6H,GAAS,IAC9BrQ,EAAoBqQ,EAApBrQ,OAAQD,EAAYsQ,EAAZtQ,QACVnC,EAAO4K,EAAMpH,KAAKpB,GACxB,OAAO,2BACFwI,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDpB,EAFC,2BAGGpC,GAHH,IAIAmC,QAASA,QAKjB,SAAS6W,GAAmBpO,EAAO6H,GACjC,IAAI3C,EAASlF,EAAMkF,OACfmJ,EAAcxG,EAAOzN,eAAec,OACpC0S,EAAM,IAAIC,IAAIQ,EAAYV,OAAOzI,IACrC,OAAO,2BACFlF,GADL,IAEEsO,YAAY,EACZ1V,KAAK,2BACAoH,EAAMpH,MACNiP,EAAOzN,eAAeY,SAASP,OAEpCjB,OAAQ,YACR0L,OAAO,aAAK0I,KAGhB,SAASW,GAAevO,EAAO6H,GAC7B,IAAI3C,EAASlF,EAAMkF,OACfmJ,EAAcxG,EAAOzN,eAAec,OACpC0S,EAAM,IAAIC,IAAI3I,EAAOyI,OAAOU,IAChC,OAAO,2BACFrO,GADL,IAEEsO,YAAY,EACZ1V,KAAK,2BACAoH,EAAMpH,MACNiP,EAAOzN,eAAeY,SAASP,OAEpCJ,OAAQwN,EAAOxN,OACfb,OAAQ,YACR0L,OAAO,aAAK0I,KAGhB,SAASY,GAAYxO,EAAO6H,EAAQoD,GAClC,OAAO,2BACFjL,GADL,IAEExG,OAAQ,YACRkJ,UAAWmF,EAAO1N,KAClBsI,aAAa,2BACRzC,EAAMyC,cADC,mBAEToF,EAAO1N,KAAOoT,GACbvN,EAAMyC,aAAaoF,EAAO1N,MAAQ6F,EAAMyC,aAAaoF,EAAO1N,MAAQ,GACpE0N,EAAOzN,eAAec,YA2C9B,SAASuT,GAAczO,EAAO6H,GAC5B,IAAI3C,EAASlF,EAAMkF,OACfmJ,EAAcxG,EAAOzN,eAAec,OACpC0S,EAAM,IAAIC,IAAI3I,EAAOyI,OAAOU,IAChC,OAAO,2BACFrO,GADL,IAEEsO,YAAY,EACZ1V,KAAK,2BACAoH,EAAMpH,MACNiP,EAAOzN,eAAeY,SAASP,OAEpCJ,OAAQwN,EAAOxN,OACfb,OAAQ,YACR0L,OAAO,aAAK0I,KAmHhB,SAASc,GAAa1O,EAAO6H,GAAS,IAC5BzS,EAASyS,EAATzS,KACR,OAAO,2BACF4K,GADL,IAEE5K,SAoBJ,SAASuZ,GAAgB3O,EAAO6H,GAAS,IAC/BzP,EAAiByP,EAAjBzP,aACR,OAAO,2BACF4H,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDiP,EAAOzP,aAAasB,IAFnB,2BAGGsG,EAAMpH,KAAKR,EAAasB,MACxBmO,EAAOzP,kBAKlB,SAASG,GAAmByH,EAAO6H,GACjC,IAAIA,EAAOpP,UAoFT,OAAOuH,EApFc,IACbvH,EAAcoP,EAAdpP,UACAD,EAAUqP,EAAVrP,MACAG,EAAqBkP,EAArBlP,iBACF7D,EAAUkL,EAAMpH,KAAKH,GAC3B,OAAyB,IAArBE,GAAoC,IAAVH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDH,EAFC,2BAGG3D,GAHH,IAIA+D,UAAW,EACXiI,UAAWd,EAAMpH,KAAKH,GAAWqI,UAAY,QAK5B,IAArBnI,GAAoC,IAAVH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDH,EAFC,2BAGG3D,GAHH,IAIA+D,UAAW,EACXiI,UAAWd,EAAMpH,KAAKH,GAAWqI,UAAY,QAK5B,IAArBnI,IAAqC,IAAXH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDH,EAFC,2BAGG3D,GAHH,IAIA+D,WAAY,EACZiI,UAAWd,EAAMpH,KAAKH,GAAWqI,UAAY,QAK5B,IAArBnI,IAAqC,IAAXH,EACrB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDH,EAFC,2BAGG3D,GAHH,IAIA+D,WAAY,EACZiI,UAAWd,EAAMpH,KAAKH,GAAWqI,UAAY,SAK3B,IAAtBnI,IAAsC,IAAXH,EACtB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDH,EAFC,2BAGG3D,GAHH,IAIA+D,UAAW,EACXiI,UAAWd,EAAMpH,KAAKH,GAAWqI,UAAY,SAK3B,IAAtBnI,GAAqC,IAAVH,EACtB,2BACFwH,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDH,EAFC,2BAGG3D,GAHH,IAIA+D,UAAW,EACXiI,UAAWd,EAAMpH,KAAKH,GAAWqI,UAAY,aARrD,EAiBJ,IAAMgK,GAAW,SAAC9K,EAAO6H,GACvB,OAAO,2BACF7H,GADL,IAEEpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDiP,EAAOgD,MAAMnR,IAAMmO,EAAOgD,WA4MjC,IAYe+D,GAZKC,2BAAgB,CAClC1Z,SAzMF,WAMG,IALD6K,EAKA,uDALQ,CACNpH,KAAM,GACNkW,MAAO,IAETjH,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAKpC,EACH,OAAOsF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BpH,KAAK,2BACAoH,EAAMpH,MACNiP,EAAO1S,YAKhB,KAAKK,EAQL,KAAKF,EACH,OAAOuF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BpH,KAAK,2BACAoH,EAAMpH,MACNiP,EAAOzN,eAAeY,SAAS7F,YAIxC,KAAKkB,EACH,OAAOyU,GAAS9K,EAAO6H,GACzB,KAAKvR,EACH,OAAOiC,GAAmByH,EAAO6H,GACnC,KAAK1R,EACH,OAAOwY,GAAgB3O,EAAO6H,GAChC,KAAKzR,EACH,OAAOyE,OAAOqC,OAAO,GAAI8C,EAAO,IAClC,QACE,OAAOA,IAgKXC,QArBK,WAKJ,IAJDD,EAIA,uDAJQ,CACNC,QAAS,WAEX4H,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAKP,EACH,OAAOyD,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BC,QAAS,SAEb,KAAK5I,EACH,OAAOwD,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BC,QAAS,YAEb,QACE,OAAOD,IAMXiF,aA1UF,WAKG,IAJDjF,EAIA,uDAJQ,CACN5K,KAAM,IAERyS,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAKd,EACH,OAAO6X,GAAa1O,EAAO6H,GAC7B,KAAK5R,EACH,OAAO4E,OAAOqC,OAAO,GAAI8C,EAAO,CAC9B5K,KAAMyS,EAAOzS,OAEjB,QACE,OAAO4K,IA6TX7G,wBA/JF,WAKG,IAJD6G,EAIA,uDAJQ,CACN5G,eAAgB,IAElByO,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAK3B,EACH,OAAO6E,OAAOqC,OAAO,GAAI8C,EAAO,CAC9B5G,eAAgByO,EAAO5O,WAE3B,QACE,OAAO+G,IAoJXvF,MAnbK,WAgBJ,IAfDuF,EAeA,uDAfQ,CACNsO,YAAY,EACZ1V,KAAM,GACNsM,OAAQ,GACR7K,OAAQ,KACRkN,WAAW,EACXtL,IAAK,KACLiS,aAAc,GACdD,YAAY,EACZvG,UAAW,KACXlO,OAAQ,OACRuV,QAAS,GACT5B,OAAQ,IAEVtF,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAKpC,EACH,IAAMyC,EAAS6P,EAAO7P,OACtB,OAAO6C,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDZ,EAFC,2BAGGgI,EAAMpH,KAAKZ,IAHd,IAIA7C,SAAU0S,EAAO5M,YAAc,SAIvC,KAAK5E,EACH,IAAM2Y,EAAWnH,EAAO2C,YAAc,EAEhCyE,EAAajP,EAAMpH,KAAKiP,EAAOrQ,QAE/B0X,EAAQ,aAAOD,EAAW9Z,UAGhC,OAFA+Z,EAASC,OAAOH,EAAU,EAAGnH,EAAOgD,MAAMnR,KAEnCmB,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BpH,KAAK,2BACAoH,EAAMpH,MADP,mBAEDiP,EAAOrQ,OAFN,2BAGGwI,EAAMpH,KAAKiP,EAAOrQ,SAHrB,IAIArC,SAAU+Z,GAAY,SAI9B,KAAKjY,EACH,OAAO4D,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BxG,OAAQ,OACRa,OAAQwN,EAAOxN,SAEnB,KAAK7D,EACH,OAAO4X,GAAmBpO,EAAO6H,GACnC,KAAKtR,EACH,OAAOgY,GAAevO,EAAO6H,GAC/B,KAAKxS,EACH,OAAOwF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BsO,YAAY,EACZ9U,OAAQ,YAEZ,KAAK1C,EACH,OAAO+D,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BpH,KAAMiP,EAAOuH,OACblK,OAAQ2C,EAAOwH,aACfnB,aAAc,KAElB,KAAK1Y,EAEL,KAAKF,EACH,OAAOmZ,GAAczO,EAAO6H,GAC9B,KAAKvR,EACH,OAAOyX,GAAgB/N,EAAO6H,GAChC,KAAKpR,EACH,IAAMyO,EAASlF,EAAMkF,OACfoK,EAAgBpK,EAAOO,QAAO,SAAChM,GACnC,OAAOA,IAAOoO,EAAOrQ,UAEvB,OAAOqD,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BkF,OAAQoK,IAEZ,KAAKnZ,EACH,OAAO2X,GAAW9N,EAAO6H,GAC3B,KAAK3R,EACH,OAAO2E,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BuH,WAAW,EACX0G,YAAY,EACZvG,UAAW,KAEf,KAAKhR,EACH,OAAOyX,GAAenO,EAAO6H,GAC/B,KAAK5R,EACH,OAAO+X,GAAqBhO,EAAO6H,GACrC,QACE,OAAO7H,IAuVXzE,MA9GF,WAQG,IAPDyE,EAOA,uDAPQ,CACNuP,aAAa,EACbrO,YAAY,EACZjF,IAAK,KACLwL,UAAU,GAEZI,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAKR,EACH,OAAO0D,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BkB,YAAY,EACZuG,UAAU,IAEd,KAAK1R,EACH,OAAO8E,OAAOqC,OAAO,GAAI8C,EAAO,CAC9ByH,UAAU,IAEd,KAAKzQ,EACH,OAAO6D,OAAOqC,OAAO,GAAI8C,EAAO,CAC9B/D,IAAK,sCAET,KAAK/E,EACH,OAAO2D,OAAOqC,OAAO,GAAI8C,EAAO,CAC9B/D,IAAK,OAET,KAAKxG,EACH,OAAOoF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BuP,aAAa,EACbrO,YAAY,IAEhB,KAAKxL,EACH,OAAOmF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BuP,aAAa,EACbrO,YAAY,IAEhB,KAAKvK,EAKL,KAAKhB,EACH,OAAOkF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BuP,aAAa,EACbrO,YAAY,IAEhB,QACE,OAAOlB,IA+DXjE,OAnJF,WAQG,IAPDiE,EAOA,uDAPQ,CACNwP,aAAa,EACbxC,YAAY,EACZ/Q,IAAK,KACLC,cAAe,MAEjB2L,EACA,uCACQ3L,EAAkB2L,EAAlB3L,cACR,OAAQ2L,EAAOlQ,MACb,KAAK/B,EACH,OAAOiF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9B/D,IAAK,KACLC,cAAe,OAEnB,KAAKrG,EACH,OAAOgF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BgN,YAAY,EACZwC,aAAa,EACbvT,IAAK,KACLC,cAAe,OAEnB,KAAKtF,EACH,OAAOiE,OAAOqC,OAAO,GAAI8C,EAAO,CAC9B/D,IAAK,OAET,KAAKnG,EACH,OAAO+E,OAAOqC,OAAO,GAAI8C,EAAO,CAC9B/D,IAAK4L,EAAO1L,MACZD,kBAEJ,QACE,OAAO8D,IAmHXE,YA7DF,WAOG,IANDF,EAMA,uDANQ,CACNxE,SAAU,GACV9B,IAAK,GACLuC,IAAK,MAEP4L,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAKhB,EACH,OAAOkE,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BxE,SAAU,KACV9B,IAAK,OAET,KAAK3C,EACH,OAAO8D,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BxE,SAAUqM,EAAO4H,SAASjU,SAC1B9B,IAAKmO,EAAO4H,SAAS/V,MAEzB,KAAKhE,EACH,OAAOmF,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BxE,SAAUqM,EAAOrM,SACjB9B,IAAKmO,EAAOpO,KAEhB,KAAK1D,EACH,OAAO8E,OAAOqC,OAAO,GAAI8C,EAAO,CAC9BkB,YAAY,EACZ1F,SAAUqM,EAAOrM,SACjB9B,IAAKmO,EAAO9F,OAEhB,QACE,OAAO/B,IA+BXI,SA7fF,WAOG,IANDJ,EAMA,uDANQ,CACN0C,UAAW,UACXD,aAAc,GACdjJ,OAAQ,QAEVqO,EACA,uCACA,OAAQA,EAAOlQ,MACb,KAAKV,EACH,OAAOuX,GAAYxO,EAAO6H,GAC5B,KAAKxS,EACH,OAAOwS,EAAO9O,EACV8B,OAAOqC,OAAO,GAAI8C,EAAO,CACvBxG,OAAQ,YAEVwG,EACN,KAAKvJ,EACH,IAAM6Y,EAAgBtP,EAAMyC,aAAazC,EAAM0C,WAAW+C,QAAO,SAAChM,GAChE,OAAOA,IAAOoO,EAAOrQ,UAEvB,OAAO,2BACFwI,GADL,IAEEyC,aAAa,2BACRzC,EAAMyC,cADC,mBAETzC,EAAM0C,UAFG,aAEa4M,OAG7B,KAAK9Y,EAEL,KAAKD,EAEL,KAAKjB,EACH,OAAOkZ,GAAYxO,EAAO6H,GAC5B,QACE,OAAO7H,MCxPb,IAAM0P,GCHS,SAAwBC,GACrC,IAAMC,ECNiB,WACvB,IACE,IAAMC,EAAkBxU,aAAaqB,QAAQ,SAC7C,GAAwB,OAApBmT,EACF,OAEF,OAAOC,KAAKC,MAAMF,GAClB,MAAO5T,GACP,QDFqB+T,GACjBC,EAAmBC,+BAAoB,CAAEC,OAAO,IACtD,OAAOC,uBACLxB,GACAgB,EACAK,EAAiBI,2BAAgBC,QDHvBC,GACRhR,GAAUiR,cAChBC,IAASpD,OACP,cAAC,IAAMqD,WAAP,UACE,cAAC,IAAD,CAAUhB,MAAOA,GAAjB,SACE,cAAC,IAAD,CAAQnQ,QAASA,GAAjB,SACE,cAAC,IAAD,UACE,cAAC,GAAD,YAKRwG,SAAS4K,eAAe,W","file":"static/js/main.dd7651d5.chunk.js","sourcesContent":["import { schema } from \"normalizr\";\nexport const comment = new schema.Entity(\n  \"comments\",\n  {},\n  { idAttribute: \"_id\" }\n);\ncomment.define({\n  comments: [comment],\n});\nexport const post = new schema.Entity(\n  \"posts\",\n  {},\n\n  { idAttribute: \"_id\" }\n);\n","export const REQUEST_POSTS = \"REQUEST_POSTS\";\nexport const RECEIVE_POSTS = \"RECEIVE_POSTS\";\nexport const REQUEST_COMMENTS = \"REQUEST_COMMENTS\";\nexport const RECEIVE_COMMENTS = \"RECEIVE_COMMENTS\";\nexport const REQUEST_SINGLE_POST = \"REQUEST_SINGLE_POST\";\nexport const RECEIVE_SINGLE_POSTS = \"RECEIVE_SINGLE_POSTS\";\nexport const LOGIN_REQUEST = \"LOGIN_REQUEST\";\nexport const LOGIN_SUCCESS = \"LOGIN_SUCCESS\";\nexport const LOGIN_ERROR = \"LOGIN_ERROR\";\nexport const SIGNUP_REQUEST = \"SIGNUP_REQUEST\";\nexport const SIGNUP_SUCCESS = \"SIGNUP_SUCCESS\";\nexport const SIGNUP_ERROR = \"SIGNUP_ERROR\";\nexport const CURRENT_USER = \"CURRENT_USER\";\nexport const POST_CREATION_CHANGE_SUBMISSION_TYPE =\n  \"POST_CREATION_CHANGE_SUBMISSION_TYPE\";\nexport const NEW_POST_SUCCESS = \"NEW_POST_SUCCESS\";\nexport const NEW_POST_REQUEST = \"NEW_POST_REQUEST\";\nexport const RESET_POST = \"RESET_POST\";\nexport const NEW_COMMENT_REQUEST = \"NEW_COMMENT_REQUEST\";\nexport const NEW_COMMENT_SUCCESS = \"NEW_COMMENT_SUCCESS\";\nexport const CHANGE_TO_MEDIA = \"CHANGE_TO_MEDIA\";\nexport const NEW_REPLY_REQUEST = \"NEW_REPLY_REQUEST\";\nexport const NEW_REPLY_SUCCESS = \"NEW_REPLY_SUCCESS\";\nexport const VOTE_CAST = \"VOTE_CAST\";\nexport const NEXT_PAGE = \"NEXT_PAGE\";\nexport const PREV_PAGE = \"PREV_PAGE\";\nexport const DELETE_POST = \"DELETE_POST\";\nexport const EDIT_POST = \"EDIT_POST\";\nexport const LOG_OUT = \"LOG_OUT\";\nexport const CLEAR_ERROR = \"CLEAR_ERROR\";\nexport const LOGIN_FAILURE = \"LOGIN_FAILURE\";\nexport const SET_POST_MODAL = \"SET_POST_MODAL\";\nexport const SPLICED_POST = \"SPLICED_POST\";\nexport const REFRESH_USER = \"REFRESH_USER\";\nexport const SET_POST = \"SET_POST\";\nexport const UNAUTHORIZED_ERROR = \"UNAUTHORIZED_ERROR\";\nexport const SORT_POSTS = \"SORT_POSTS\";\nexport const SORT_POSTS_REQUEST = \"SORT_POSTS_REQUEST\";\nexport const GET_SINGLE_POST = \"GET_SINGLE_POST\";\nexport const CLEAR_LOGIN_MODAL = \"CLEAR_LOGIN_MODAL\";\nexport const REQUEST_USER_INFO = \"REQUEST_USER_INFO\";\nexport const DARK_MODE_ENABLED = \"DARK_MODE_ENABLED\";\nexport const DARK_MODE_DISABLED = \"DARK_MODE_DISABLED\";\n","import axios from \"axios\";\nimport { normalize } from \"normalizr\";\nimport { post, comment } from \"../schemas\";\n\nimport {\n  NEW_COMMENT_REQUEST,\n  NEW_COMMENT_SUCCESS,\n  NEW_REPLY_REQUEST,\n  NEW_REPLY_SUCCESS,\n  VOTE_CAST,\n  REQUEST_COMMENTS,\n  RECEIVE_COMMENTS,\n} from \"../types\";\nexport function newCommentRequest() {\n  return {\n    type: NEW_COMMENT_REQUEST,\n  };\n}\nfunction getNormalizeData(myData, params) {\n  const normalizedData = normalize(myData, [comment]);\n\n  console.log(\n    \"ðŸš€ ~ file: commentActions.js ~ line 21 ~ getNormalizeData ~ normalizedData\",\n    normalizedData\n  );\n\n  return normalizedData;\n}\nfunction newCommentSuccess(savedComment, postId, parentId) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: NEW_COMMENT_SUCCESS,\n      savedComment,\n      postId,\n      parentId,\n    });\n  };\n}\nexport function newComment(content, postId) {\n  return (dispatch, getState) => {\n    dispatch(newCommentRequest());\n    return axios({\n      url: \"/api/comments\",\n      method: \"POST\",\n      data: {\n        content,\n        postid: postId,\n      },\n      withCredentials: true,\n    }).then((res) => {\n      dispatch(newCommentSuccess(res.data, postId));\n    });\n  };\n}\n\nexport function fetchComments(postid) {\n  return (dispatch) => {\n    dispatch({\n      type: REQUEST_COMMENTS,\n    });\n    return axios({\n      url: `/api/comments/${postid}`,\n      method: \"GET\",\n\n      withCredentials: true,\n    }).then((data) => {\n      return {\n        comments: data.data,\n      };\n    });\n\n    // .then((res) => {\n    //   const comments = res.data;\n    //   const normalizedData = getNormalizeData(comments);\n\n    //   dispatch({\n    //     type: RECEIVE_COMMENTS,\n    //     comments: normalizedData.entities.comments,\n    //     commentids: normalizedData.result,\n    //     postid,\n    //   });\n    // });\n  };\n}\nexport function newReplyRequest() {\n  return {\n    type: NEW_REPLY_REQUEST,\n    test: {},\n  };\n}\nexport function test(test) {\n  return (dispatch, getState) => {\n    dispatch(test.push(\"sdfsdf\"));\n  };\n}\nexport function changeCommentPoint(point, postId, commentId) {\n  return (dispatch, getState) => {\n    const currentCommentId = commentId;\n    const currentComment = getState().comments.byId[currentCommentId];\n    const currentVoteState = currentComment.voteState;\n    dispatch({\n      type: VOTE_CAST,\n      point,\n      commentId,\n      currentVoteState,\n    });\n    if (point === 1) {\n      axios({\n        url: `/api/voteup/${commentId}`,\n        method: \"PUT\",\n        data: {\n          type: \"commentid\",\n        },\n        withCredentials: true,\n      });\n    } else if (point === -1) {\n      axios({\n        url: `/api/votedown/${commentId}`,\n        method: \"PUT\",\n        data: {\n          type: \"commentid\",\n        },\n        withCredentials: true,\n      });\n    }\n  };\n}\nexport function newReply(content, postId, commentId, master_comment) {\n  return (dispatch, getState) => {\n    const post = getState().posts.byId[postId];\n    const parentIndex = post.comments.findIndex((comment) => {\n      return comment === commentId;\n    });\n    console.log(parentIndex);\n\n    axios({\n      url: `/api/comments`,\n      method: \"POST\",\n      data: {\n        content,\n        master_comment: master_comment || commentId,\n        postid: postId,\n        parentid: commentId,\n      },\n      withCredentials: true,\n    }).then((res) => {\n      dispatch({\n        type: NEW_REPLY_SUCCESS,\n        reply: res.data,\n        parentIndex,\n        postId,\n        commentId,\n      });\n    });\n  };\n}\n","import axios from \"axios\";\nimport \"cross-fetch/polyfill\";\nimport { normalize } from \"normalizr\";\nimport { post, comment } from \"../schemas\";\nimport {\n  DELETE_POST,\n  EDIT_POST,\n  NEW_POST_REQUEST,\n  NEW_POST_SUCCESS,\n  NEXT_PAGE,\n  POST_CREATION_CHANGE_SUBMISSION_TYPE,\n  PREV_PAGE,\n  RECEIVE_COMMENTS,\n  RECEIVE_POSTS,\n  RECEIVE_SINGLE_POSTS,\n  REQUEST_COMMENTS,\n  REQUEST_POSTS,\n  REQUEST_SINGLE_POST,\n  RESET_POST,\n  SET_POST,\n  SET_POST_MODAL,\n  SORT_POSTS,\n  VOTE_CAST,\n} from \"../types\";\nimport { fetchComments } from \"./commentActions\";\n\nfunction requestPosts(e) {\n  return {\n    type: REQUEST_POSTS,\n  };\n}\nfunction submitPostSuccess(post) {\n  let id = post._id;\n  post[\"newPost\"] = true;\n  return (dispatch) => {\n    dispatch({ type: NEW_POST_SUCCESS, post, id });\n  };\n}\nexport function newPostSubmissionType(postType) {\n  return (dispatch) => {\n    dispatch({ type: POST_CREATION_CHANGE_SUBMISSION_TYPE, postType });\n  };\n}\nexport function changePostSubmissionType(postType) {\n  return (dispatch, getState) => {\n    let currentValue = getState().changeNewSubmissionType.submissionType;\n    if (postType === currentValue) {\n      return;\n    } else {\n      dispatch({\n        type: POST_CREATION_CHANGE_SUBMISSION_TYPE,\n        postType,\n      });\n    }\n  };\n}\nexport function changePoint(point, postId, voteState) {\n  return (dispatch, getState) => {\n    dispatch({\n      type: VOTE_CAST,\n      postId,\n      point,\n      currentVoteState: voteState,\n    });\n    if (point === 1) {\n      return axios({\n        url: `/api/voteup/${postId}`,\n        method: \"PUT\",\n        data: {\n          type: \"postid\",\n        },\n        withCredentials: true,\n      });\n    }\n    if (point === -1) {\n      return axios({\n        url: `/api/votedown/${postId}`,\n        method: \"PUT\",\n        data: {\n          type: \"postid\",\n        },\n        withCredentials: true,\n      });\n    }\n  };\n}\nexport function setPostModal(post) {\n  return {\n    type: SET_POST_MODAL,\n    post,\n  };\n}\nexport function submitPostAttempt() {\n  return {\n    type: NEW_POST_REQUEST,\n  };\n}\nexport function submitPost(form) {\n  return (dispatch) => {\n    return axios({\n      url: `/api/posts`,\n      method: \"POST\",\n      data: form,\n      withCredentials: true,\n    }).then((res) => {\n      if (res.status === 200) {\n        dispatch(submitPostSuccess(res.data));\n      }\n    });\n  };\n}\nfunction requestSinglePost() {\n  return {\n    type: REQUEST_SINGLE_POST,\n  };\n}\nexport function reset() {\n  return {\n    type: RESET_POST,\n  };\n}\nfunction getNormalizeData(myData, params, type) {\n  const normalizedData = normalize(myData, [type === \"posts\" ? post : comment]);\n  return normalizedData;\n}\nexport function sortPosts() {}\nexport function deletePost(postId, params) {\n  return (dispatch) => {\n    dispatch({\n      type: DELETE_POST,\n      postId,\n      params: params ? params : \"default\",\n    });\n    return axios({\n      url: `/api/posts/${postId}`,\n      method: \"DELETE\",\n      withCredentials: true,\n    });\n  };\n}\nexport function editPost(postId, content) {\n  return (dispatch) => {\n    dispatch({ type: EDIT_POST, postId, content });\n    return axios({\n      url: `/api/posts/${postId}`,\n      method: \"PUT\",\n      withCredentials: true,\n      data: {\n        content: content,\n      },\n    });\n  };\n}\n\nexport function fetchPosts(query, id, params, e) {\n  return (dispatch) => {\n    dispatch(requestPosts(e));\n    return axios\n      .get(\n        `/api/posts${params && params.sort ? `/sort/${params.sort}` : \"\"}${\n          query ? `?${query}=${id}` : \"\"\n        }`,\n        {\n          withCredentials: true,\n        }\n      )\n      .then((res) => {\n        const normalizedData = getNormalizeData(res.data, params, \"posts\");\n        dispatch({\n          type:\n            params && params.sort && e === \"click\" ? SORT_POSTS : RECEIVE_POSTS,\n          normalizedData,\n          offset: res.data.offset,\n          sort: params && params.sort ? params.sort : \"default\",\n        });\n        return res.data;\n      });\n  };\n}\nexport function prevPage(id, params) {\n  return (dispatch) => {\n    dispatch(requestPosts());\n    return new Promise((resolve) => {\n      axios({\n        url: `/api/posts/${\n          params.length > 0 ? params : \"\"\n        }?page[size]=${10}&before=${id}`,\n        method: \"GET\",\n        withCredentials: true,\n      }).then((res) => {\n        if (res.status === 200) {\n          const normalizedData = getNormalizeData(\n            { posts: res.data.posts },\n            params\n          );\n          dispatch({\n            type: PREV_PAGE,\n            normalizedData,\n            offset: res.data.offset,\n            sort: params.sort ? params.sort : \"default\",\n          });\n          resolve(\"completed\");\n        }\n      });\n    });\n  };\n}\nexport function nextPage(id, params) {\n  return (dispatch) => {\n    dispatch(requestPosts());\n    return new Promise((resolve) => {\n      axios({\n        url: `/api/posts/${\n          params && params.sort ? params.sort : \"\"\n        }?page[size]=${10}&after=${id}`,\n        method: \"GET\",\n        withCredentials: true,\n      }).then((res) => {\n        if (res.status === 200) {\n          const normalizedData = getNormalizeData(\n            { posts: res.data.posts },\n            params\n          );\n          dispatch({\n            type: NEXT_PAGE,\n            normalizedData,\n            offset: res.data.offset,\n            sort: params.sort ? params.sort : \"default\",\n          });\n          resolve(\"completed\");\n        }\n      });\n    });\n  };\n}\nexport function setPostRange(before, after) {\n  return { type: SET_POST, before, after };\n}\nexport function fetchSinglePost(id) {\n  return (dispatch) => {\n    dispatch(requestSinglePost());\n\n    const posts = axios({\n      url: `/api/posts/${id}`,\n      method: \"GET\",\n      withCredentials: true,\n    }).then((data) => {\n      return {\n        posts: data.data,\n      };\n    });\n\n    const comments = dispatch(fetchComments(id));\n    return Promise.all([posts, comments]).then((res) => {\n      const promises = {};\n\n      for (let data of res) {\n        const key = Object.keys(data)[0];\n\n        promises[key] = data;\n      }\n\n      const normalizedData = getNormalizeData(promises.posts, null, \"posts\");\n      dispatch({ normalizedData, type: RECEIVE_SINGLE_POSTS });\n      const comments = promises.comments;\n\n      const normalizedComments = getNormalizeData(\n        comments.comments,\n        null,\n        \"comments\"\n      );\n      dispatch({\n        type: RECEIVE_COMMENTS,\n        comments: normalizedComments.entities.comments,\n        commentids: normalizedComments.result,\n        postid: id,\n      });\n\n      return res;\n    });\n  };\n}\n","import axios from \"axios\";\nimport {\n  CLEAR_LOGIN_MODAL,\n  CURRENT_USER,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  REQUEST_USER_INFO,\n  SIGNUP_ERROR,\n  SIGNUP_REQUEST,\n  SIGNUP_SUCCESS,\n  UNAUTHORIZED_ERROR,\n} from \"../types\";\nlet retryCount = 0;\naxios.interceptors.request.use((config) => {\n  const accessToken = localStorage.getItem(\"accessToken\");\n  if (accessToken) {\n    config.headers[\"Authorization\"] = `Bearer ${accessToken}`;\n  }\n  return config;\n});\naxios.interceptors.response.use(\n  function (response) {\n    return response;\n  },\n  function (err) {\n    const originalRequest = err.config;\n    if (\n      (err.response.status === 401 || err.response.status === 403) &&\n      !originalRequest._retry &&\n      retryCount <= 2 &&\n      err.config.url !== \"/api/refresh\"\n    ) {\n      retryCount = retryCount + 1;\n      originalRequest._retry = true;\n      axios({\n        url: \"/api/refresh\",\n        method: \"POST\",\n        withCredentials: true,\n      }).then((data) => {\n        if (data.data) {\n          localStorage.setItem(\"accessToken\", data.data.jwt_token);\n          axios.defaults.headers.common[\"Authorization\"] =\n            \"Bearer \" + data.jwt_token;\n          originalRequest.headers[\"Authorization\"] =\n            \"Bearer \" + data.data.jwt_token;\n          return axios(originalRequest);\n        }\n      });\n    } else {\n      return Promise.reject(err);\n    }\n  }\n);\nfunction loginRequest() {\n  return {\n    type: LOGIN_REQUEST,\n  };\n}\nfunction loginSuccess(username, id) {\n  return (dispatch) => {\n    dispatch({\n      type: LOGIN_SUCCESS,\n      username,\n      id,\n    });\n    Promise.resolve(\"success\");\n  };\n}\nexport function logOut() {\n  return (dispatch) => {\n    return axios({\n      url: \"/api/logout\",\n      withCredentials: true,\n      method: \"POST\",\n    }).then((res) => {\n      if (res.status === 200) {\n        localStorage.removeItem(\"accessToken\");\n        return res;\n      }\n    });\n  };\n}\nfunction unauthorized() {\n  return {\n    type: UNAUTHORIZED_ERROR,\n  };\n}\nexport function login(username, password) {\n  return (dispatch) => {\n    dispatch(loginRequest());\n    return axios({\n      withCredentials: true,\n      method: \"POST\",\n      data: {\n        username: username,\n        password: password,\n      },\n      url: \"/api/login\",\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch(loginSuccess(res.data.username, res.data._id));\n          let token = res.data.jwt_token;\n          return token;\n        }\n      })\n      .then((token) => {\n        localStorage.setItem(\"accessToken\", token);\n        return \"login\";\n      })\n      .catch(() => {\n        dispatch(unauthorized());\n      });\n  };\n}\nexport function clearLoginModal() {\n  return {\n    type: CLEAR_LOGIN_MODAL,\n  };\n}\nexport function loggedIn() {\n  const token = localStorage.getItem(\"accessToken\");\n  return async (dispatch) => {\n    if (!token) {\n      return \"completed\";\n    }\n    dispatch({ type: REQUEST_USER_INFO });\n    const data = await axios({\n      withCredentials: true,\n      method: \"GET\",\n      url: \"/api/me\",\n    });\n    try {\n      dispatch({\n        type: CURRENT_USER,\n        username: data.data.username,\n        user: data.data._id,\n      });\n      return \"completed\";\n    } catch (error) {\n      dispatch(logOut());\n    }\n  };\n}\nexport function signupRequest() {\n  return {\n    type: SIGNUP_REQUEST,\n  };\n}\nfunction signupSuccess() {\n  return {\n    type: SIGNUP_SUCCESS,\n  };\n}\nexport function signup(username, password, passwordConfirm) {\n  return (dispatch) => {\n    dispatch({ type: SIGNUP_REQUEST });\n    return axios({\n      url: \"/api/signup\",\n      data: {\n        username,\n        password,\n        passwordConfirm,\n      },\n      method: \"POST\",\n    })\n      .then((res) => {\n        if (res.status === 200) {\n          dispatch(signupSuccess());\n          return \"signup\";\n        }\n      })\n      .catch((err) => {\n        let error = err.response.data;\n        let passwordError;\n        if (password !== passwordConfirm) {\n          passwordError = \"Passwords do not match\";\n        }\n        dispatch({ type: SIGNUP_ERROR, error, passwordError });\n      });\n  };\n}\n","export default __webpack_public_path__ + \"static/media/image-placeholder.1c6a32aa.svg\";","export default __webpack_public_path__ + \"static/media/link-post.cdb86b79.svg\";","export default __webpack_public_path__ + \"static/media/reddit-default.f7d549ef.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Page-1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Desktop-(Card)\",\n  transform: \"translate(-516.000000, -289.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(428.000000, 154.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(16.000000, 134.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"down-arrow-copy\",\n  transform: \"translate(72.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z\",\n  id: \"Path\"\n}))))));\n\nfunction SvgDownArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"13px\",\n    height: \"14px\",\n    viewBox: \"0 0 13 14\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"down-arrow copy\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgDownArrow);\nexport default __webpack_public_path__ + \"static/media/down-arrow.c9c98d5d.svg\";\nexport { ForwardRef as ReactComponent };","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Page-1\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Desktop-(Card)\",\n  transform: \"translate(-444.000000, -289.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group-6\",\n  transform: \"translate(428.000000, 154.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"Group\",\n  transform: \"translate(16.000000, 134.000000)\"\n}, /*#__PURE__*/React.createElement(\"g\", {\n  id: \"down-arrow\",\n  transform: \"translate(6.500000, 8.000000) scale(1, -1) translate(-6.500000, -8.000000) translate(0.000000, 1.000000)\"\n}, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M12.2275497,7.76096702 C12.1820052,7.65192943 12.0757255,7.58077755 11.957786,7.58077755 L8.75858504,7.58077755 L8.75858504,0.291577829 C8.75858504,0.130631897 8.62778141,0 8.4666239,0 L3.79538263,0 C3.63422512,0 3.50342149,0.130631897 3.50342149,0.291577829 L3.50342149,7.58080489 L0.291958509,7.58080489 C0.174019021,7.58080489 0.0677393658,7.65195676 0.0221948522,7.76042033 C-0.0227748808,7.86945792 0.00174908806,7.99484158 0.0852564863,8.07823934 L5.90969908,13.9142788 C5.96457693,13.9690846 6.03875099,14 6.1164011,14 C6.19405121,14 6.26822527,13.9690846 6.32310313,13.9148528 L12.1644881,8.07881337 C12.2479955,7.99538827 12.2730942,7.87003194 12.2275497,7.76096702 Z\",\n  id: \"Path\"\n}))))));\n\nfunction SvgUpArrow(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: \"13px\",\n    height: \"14px\",\n    viewBox: \"0 0 13 14\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title === undefined ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, \"down-arrow\") : title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgUpArrow);\nexport default __webpack_public_path__ + \"static/media/up-arrow.927fb299.svg\";\nexport { ForwardRef as ReactComponent };","import DeleteIcon from \"@material-ui/icons/Delete\";\nimport React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link } from \"react-router-dom\";\nimport { deletePost, fetchSinglePost } from \"../actions/postActions\";\nimport { ReactComponent as DownArrow } from \"../images/down-arrow.svg\";\nimport { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\nconst Post = ({ post, history }) => {\n  const [deleteButton, setDelete] = useState(false);\n  const [, setActive] = useState(true);\n  const params = history.match.params.sort;\n  const dispatch = useDispatch();\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const currentUser = useSelector((state) => state.currentUser._id);\n  const postStatus = useSelector((state) => state.listings.status);\n  const handleDelete = () => {\n    setDelete(!deleteButton);\n  };\n  const confirmedDelete = (postId) => {\n    dispatch(deletePost(postId, params === \"post\" ? null : params));\n    setActive(false);\n  };\n  if (!post) {\n    return null;\n  }\n  return (\n    <>\n      <div\n        key={post._id}\n        className={`card-container ${\n          checkDisplay === \"dark\" ? \"dark-mode-card\" : \"\"\n        } `}\n      >\n        <div\n          className={`card-content-container ${\n            postStatus === \"loading\" ? \"content-loading-mask\" : \"\"\n          }`}\n        >\n          <p className={\"card-author\"}>\n            u/{post.author ? post.author.username : \"deleted\"}\n          </p>\n          <h4 className=\"card-title\">\n            <Link\n              onClick={() => {\n                dispatch(fetchSinglePost(post._id));\n              }}\n              to={{\n                pathname: `/post/${post._id}`,\n                state: {\n                  modal: true,\n                },\n              }}\n            >\n              {post.title}\n            </Link>\n          </h4>\n          <div className=\"vote-container\">\n            <li>\n              <UpArrow\n                className={\n                  post.voteState === 1\n                    ? `home-vote-color`\n                    : `${checkDisplay === \"dark\" ? \"dark-mode-arrow\" : \"\"}`\n                }\n                alt=\"\"\n              />\n            </li>\n            <li>{post.voteTotal}</li>\n            <li>\n              <DownArrow\n                className={\n                  post.voteState === -1\n                    ? `home-vote-color`\n                    : `${checkDisplay === \"dark\" ? \"dark-mode-arrow\" : \"\"}`\n                }\n                alt=\"\"\n              />\n            </li>\n          </div>\n        </div>\n        {post.author && currentUser === post.author._id ? (\n          <div className=\"edit-del-container\">\n            <div className=\"edit-del-content\">\n              {deleteButton ? (\n                <div className=\"delete-confirm-container\">\n                  <div>\n                    <p className=\"delete-confirm\">Delete?</p>\n                  </div>\n                  <li\n                    onClick={() => confirmedDelete(post._id)}\n                    className=\"delete-button-yes\"\n                  >\n                    Yes\n                  </li>\n                  <li className=\"delete-button-slash\">/</li>\n                  <li className=\"delete-button-yes\">No</li>\n                </div>\n              ) : null}\n              <button onClick={handleDelete} className=\"delete-button\">\n                <DeleteIcon className=\"del-svg\" />\n              </button>\n            </div>\n          </div>\n        ) : null}\n      </div>\n    </>\n  );\n};\n// export default React.memo(Post, (prev, next) => {\n//   //     prev: prev.post,\n//     next: next.post,\n//   });\n\n//   // if (prev.post.voteTotal === next.post.voteTotal) {\n//   //   return true;\n//   // }\n// });\nexport default Post;\n","import React, { useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { login } from \"../actions/userActions\";\nconst Login = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const dispatch = useDispatch();\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const user = useSelector((state) => {\n    return state.login.isLoggedIn;\n  });\n  const error = useSelector((state) => {\n    return state.login.err;\n  });\n  const handleLogin = (e) => {\n    if (e.key === \"Enter\" || e.type === \"click\") {\n      dispatch(login(username, password)).then((x) => {\n        if (x === \"login\") {\n          window.location.reload();\n        }\n      });\n    }\n  };\n  if (user) {\n  }\n  return (\n    <div className=\"login-modal-wrapper\">\n      <div\n        className={`login-card-modal ${\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n        }`}\n      >\n        <div className=\"login-modal-title-exit-container\">\n          <p\n            className={`login-modal-title ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            Login\n          </p>\n          <button\n            onClick={props.close}\n            className={`login-cancel-button ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            X\n          </button>\n        </div>\n        <div className=\"login-input-container\">\n          <input\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"username\"\n            type=\"text\"\n          />\n          <input\n            onKeyDown={handleLogin}\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"password\"\n            type=\"password\"\n          />{\" \"}\n          <p className={`signup-error`}>{error}</p>\n          <button onClick={handleLogin} className=\"login-button\">\n            Log in\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Login;\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect } from \"react-router-dom\";\nimport { signup, signupRequest } from \"../actions/userActions\";\nimport { CLEAR_ERROR } from \"../types\";\nimport Login from \"./Login\";\nconst Signup = (props) => {\n  const [username, setUsername] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [passwordConfirm, setPasswordConfirm] = useState(\"\");\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const dispatch = useDispatch();\n  const user = useSelector((state) => {\n    return state.login.isLoggedIn;\n  });\n  const error = useSelector((state) => {\n    return state.signup.err;\n  });\n  const passwordError = useSelector((state) => {\n    return state.signup.passwordError;\n  });\n  const handleSignup = () => {\n    dispatch(signup(username, password, passwordConfirm)).then((res) => {\n      if (res === \"signup\") {\n        <Redirect to={Login}></Redirect>;\n      }\n    });\n  };\n  const handleError = () => {\n    dispatch({ type: CLEAR_ERROR });\n  };\n  if (user) {\n    window.location.reload();\n  }\n  useEffect(() => {\n    dispatch(signupRequest());\n  }, [dispatch]);\n  return (\n    <div className=\"login-modal-wrapper\">\n      <div\n        className={`login-card-modal ${\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n        }`}\n      >\n        <div className=\"login-modal-title-exit-container\">\n          <p\n            className={`login-modal-title ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            Sign up\n          </p>\n          <button\n            onClick={props.close}\n            className={`login-cancel-button ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            X\n          </button>\n        </div>\n        <div className=\"login-input-container\">\n          <input\n            onChange={(e) => {\n              setUsername(e.target.value);\n            }}\n            onClick={handleError}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"username\"\n            type=\"text\"\n          />\n          <p className={`signup-error`}>{error}</p>\n          <input\n            onChange={(e) => {\n              setPassword(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"password\"\n            type=\"password\"\n          />\n          <p className={`signup-error`}>{passwordError}</p>\n          <input\n            onChange={(e) => {\n              setPasswordConfirm(e.target.value);\n            }}\n            className={`login-input ${\n              checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n            }`}\n            placeholder=\"Confirm your password\"\n            type=\"password\"\n          />\n          <button onClick={handleSignup} className=\"login-button\">\n            Sign up\n          </button>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default Signup;\n","import React, { useCallback, useEffect, useMemo, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, useLocation, useParams } from \"react-router-dom\";\n\nimport {\n  fetchPosts,\n  fetchSinglePost,\n  newPostSubmissionType,\n  nextPage,\n  submitPostAttempt,\n} from \"../actions/postActions\";\nimport imagePost from \"../images/image-placeholder.svg\";\nimport linkPost from \"../images/link-post.svg\";\nimport defaultPic from \"../images/reddit-default.svg\";\nimport Post from \"./Post\";\nimport Signup from \"./Signup\";\nfunction Home(props) {\n  const dispatch = useDispatch();\n  const allPosts = useSelector((state) => {\n    return state.posts.byId;\n  });\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const [dataLoaded, setDataLoaded] = useState(false);\n  const location = useLocation();\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\n  const postStatus = useSelector((state) => state.posts.status);\n  const params = useParams();\n  const listingOrder = useSelector((state) => state.listings.listingOrder);\n  const sortOrder = useSelector((state) => state.listings.sortOrder);\n  const currentIds = listingOrder[sortOrder];\n  let queryParams = props.history.location.search;\n  const offSetId = useSelector((state) => {\n    return state.posts.offset;\n  });\n  let after = new URLSearchParams(queryParams).get(\"after\");\n  let before = new URLSearchParams(queryParams).get(\"before\");\n  let query = (after && \"after\") || (before && \"before\");\n  let id = after || before;\n\n  let postsToDisplay;\n  if (currentIds) {\n    postsToDisplay = currentIds.map((id) => {\n      return allPosts[id];\n    });\n  }\n\n  const bottomRef = useCallback(\n    (node) => {\n      const options = {\n        threshold: [0],\n      };\n      let shouldFetch = true;\n      var observer = new IntersectionObserver(function (entries, observer) {\n        if (entries[0].intersectionRatio > 0 && shouldFetch && offSetId) {\n          observer.disconnect();\n          dispatch(nextPage(offSetId, params)).then((status) => {\n            shouldFetch = false;\n            if (status === \"completed\") {\n              observer.observe(node);\n            }\n          });\n        }\n      }, options);\n      if (postsToDisplay.length > 0 && node && params.sort !== \"post\") {\n        observer.observe(node);\n      } else {\n        observer.disconnect();\n      }\n    },\n    [offSetId, postsToDisplay]\n  );\n  useEffect(() => {\n    const splitUrl = location.pathname.split(\"/\");\n  }, []);\n  useEffect(() => {\n    const splitUrl = location.pathname.split(\"/\");\n\n    if (params.sort === \"post\" && dataLoaded === false) {\n      dispatch(fetchSinglePost(splitUrl[2])).catch((err) => {});\n      // dispatch(fetchPosts(query, id, params.sort === \"post\" ? null : params));\n    } else if (dataLoaded === false) {\n      dispatch(\n        fetchPosts(query, id, params.sort === \"post\" ? null : params)\n      ).then((data) => {\n        if (data.length > 0) {\n          setDataLoaded(true);\n        }\n      });\n    }\n  }, [params.sort]);\n  let listing = listingOrder[sortOrder];\n  const handlePostType = (type) => {\n    if (!loggedIn) {\n      props.handleShowLogin();\n    }\n    dispatch(newPostSubmissionType(type));\n    dispatch(submitPostAttempt());\n  };\n  if (!listing) {\n    return <div></div>;\n  }\n  return (\n    <>\n      <div\n        className={`home-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\n      >\n        {props.showSignup ? <Signup /> : null}\n        <div\n          className={`new-post-container ${\n            checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n          }`}\n        >\n          <Link to=\"\">\n            <img\n              className={`new-post-profile-image ${\n                checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n              }`}\n              src={defaultPic}\n              alt=\"\"\n            />\n          </Link>\n          <Link\n            onClick={() => handlePostType(\"post\")}\n            to={loggedIn ? \"/new-post\" : \"\"}\n            className=\"new-post-input-container\"\n          >\n            <input\n              placeholder=\"Create Post\"\n              className={`new-post-input ${\n                checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n              }`}\n              type=\"text\"\n            />\n          </Link>\n          <Link\n            onClick={() => handlePostType(\"media\")}\n            to={loggedIn ? \"/new-post?media=true\" : \"\"}\n          >\n            <img className=\"post-option\" src={imagePost} alt=\"\" />\n          </Link>\n          <Link\n            onClick={() => handlePostType(\"link\")}\n            to={loggedIn ? \"/new-post?link=true\" : \"\"}\n          >\n            <img className=\"post-option\" src={linkPost} alt=\"\" />\n          </Link>\n        </div>\n        <div\n          className={`categories-container ${\n            checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n          }`}\n        >\n          <Link\n            to=\"/hot\"\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\n            onClick={() =>\n              dispatch(fetchPosts(query, id, { sort: \"hot\" }, \"click\"))\n            }\n          >\n            Hot\n          </Link>\n          <Link\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\n            to=\"/new\"\n            onClick={() =>\n              dispatch(fetchPosts(query, id, { sort: \"new\" }, \"click\"))\n            }\n          >\n            New\n          </Link>\n          <Link\n            className={`${checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"}`}\n            to=\"/top\"\n            onClick={() =>\n              dispatch(fetchPosts(query, id, { sort: \"top\" }, \"click\"))\n            }\n          >\n            Top\n          </Link>\n        </div>\n        <div className={\"posts-container\"}>\n          {postsToDisplay.map((post) => {\n            if (post) {\n              return <Post history={props} key={post._id} post={post} />;\n            }\n          })}\n          <div className=\"page-set-container\"></div>\n        </div>\n      </div>\n      <div className=\"loading-container\">\n        <div\n          className={postStatus === \"loading\" ? \"lds-dual-ring\" : \"inactive\"}\n        ></div>\n      </div>\n      <span ref={bottomRef}></span>\n    </>\n  );\n}\nexport default Home;\n","export default __webpack_public_path__ + \"static/media/magnifying-glass.4af3fe67.svg\";","export default __webpack_public_path__ + \"static/media/Triangle.145cb339.svg\";","import Brightness2OutlinedIcon from \"@material-ui/icons/Brightness2Outlined\";\nimport React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Link, withRouter } from \"react-router-dom\";\nimport { fetchPosts } from \"../actions/postActions\";\nimport { logOut } from \"../actions/userActions\";\nimport searchicon from \"../images/magnifying-glass.svg\";\nimport defaultPic from \"../images/reddit-default.svg\";\nimport triangle from \"../images/Triangle.svg\";\nimport { DARK_MODE_DISABLED, DARK_MODE_ENABLED } from \"../types\";\nfunction Navbar(props) {\n  const [dropdown, setDropDown] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [authDropDown, setAuthDropDown] = useState(false);\n  const [searchContent, setSearchContent] = useState([]);\n  const [searchActive, setSearchActive] = useState(false);\n  const currentUser = useSelector((state) => {\n    return state.currentUser;\n  });\n  const loggedIn = useSelector((state) => {\n    return state.login.isLoggedIn;\n  });\n  const currentModal = useSelector((state) => {\n    return state.currentModal;\n  });\n  const dispatch = useDispatch();\n  const allIds = useSelector((state) => {\n    return state.posts.allIds;\n  });\n  const post = useSelector((state) => {\n    return state.posts.byId;\n  });\n  let flattened = allIds.map((x) => {\n    return post[x];\n  });\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const handleDropDown = () => {\n    setDropDown(!dropdown);\n  };\n  const handleDarkMode = () => {\n    dispatch({\n      type: checkDisplay === \"dark\" ? DARK_MODE_DISABLED : DARK_MODE_ENABLED,\n    });\n  };\n  let value;\n  const handleSearchContent = async (e) => {\n    setSearchInput(e.target.value);\n    value = e.target.value;\n    let trimmed = await value.trimStart();\n    let filtered = await flattened.filter((post) => {\n      const regex = new RegExp(`^` + trimmed, \"gi\");\n      return regex.test(post.title);\n    });\n    setSearchContent(filtered);\n  };\n  const handleCloseSearch = () => {\n    setSearchActive(!searchActive);\n  };\n  const handleLogout = () => {\n    dispatch(logOut()).then((data) => {\n      if (data.status === 200) {\n        window.location.reload();\n      }\n    });\n  };\n  let re = /^\\s+(?=[a-z0-9])|^[a-z0-9]/g;\n  const closeSearch = () => {\n    if (searchActive) {\n      setSearchActive(false);\n    }\n  };\n  const handleLogoClick = () => {\n    document.body.style.overflow = \"\";\n    if (currentModal.post.newPost) {\n    }\n    if (props.match.path === \"/\") {\n      dispatch(fetchPosts());\n    }\n  };\n  useEffect(() => {\n    document.title = \"Readit\";\n    document.body.addEventListener(\"click\", closeSearch);\n    return () => {\n      document.body.removeEventListener(\"click\", closeSearch);\n    };\n  }, [closeSearch]);\n  return (\n    <>\n      <div className={`navbar-wrapper `}>\n        <div\n          className={`navbar-container ${\n            checkDisplay === \"dark\" ? \"dark-mode-nav\" : \"\"\n          } `}\n        >\n          <div className=\"navbar-content\">\n            <li>\n              <Link\n                to={{ pathname: \"/\" }}\n                replace={props.history.location.pathname === \"/\" ? true : false}\n                onClick={handleLogoClick}\n                className=\"logo\"\n              >\n                readit\n              </Link>\n            </li>\n            <div className={\"search-bar-container\"}>\n              <input\n                onClick={handleCloseSearch}\n                onChange={(e) => handleSearchContent(e)}\n                className={`search-bar ${\n                  checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n                } `}\n                placeholder=\"Search\"\n                type=\"text\"\n              />\n              <span className=\"search-icon\">\n                <img src={searchicon} alt=\"\" />\n              </span>\n              <div\n                onClick={(e) => handleCloseSearch(e)}\n                className={`${\n                  searchActive\n                    ? `search-dropdown-container ${\n                        checkDisplay === \"dark\"\n                          ? \"dark-mode-search-dropdown\"\n                          : \"\"\n                      }`\n                    : \"inactive\"\n                }`}\n              >\n                {re.test(searchInput)\n                  ? searchContent.map((post) => {\n                      return (\n                        <>\n                          {\" \"}\n                          <div\n                            className={`search-dropdown-content ${\n                              !searchActive ? `hide-search` : null\n                            } `}\n                            key={post._id}\n                          >\n                            <Link\n                              className={`search-content-item ${\n                                checkDisplay === \"dark\"\n                                  ? \"dark-mode-dropdown-item\"\n                                  : \"\"\n                              }`}\n                              to={`/post/${post._id}`}\n                            >\n                              {post.title}\n                            </Link>\n                          </div>\n                        </>\n                      );\n                    })\n                  : null}\n              </div>\n            </div>\n            {!loggedIn ? (\n              <>\n                <Brightness2OutlinedIcon\n                  className={\n                    checkDisplay === \"dark\"\n                      ? \"outline-visible\"\n                      : \"brightness-icon\"\n                  }\n                  onClick={handleDarkMode}\n                />\n                <div className=\"auth-button-container-navbar\">\n                  <button\n                    className={checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}\n                    onClick={props.handleShowLogin}\n                  >\n                    log in\n                  </button>\n                  <button onClick={props.handleShowSignup}>sign up</button>\n                </div>\n                <div className=\"hamburger-container\">\n                  <div className=\"hamburger-button-container\">\n                    <input\n                      type=\"checkbox\"\n                      id=\"trigger\"\n                      className={\"burger-input\"}\n                    />\n                    <label\n                      htmlFor=\"trigger\"\n                      className={`burger-label ${\n                        checkDisplay === \"dark\" ? \"dark-mode-burger\" : \"\"\n                      } `}\n                    >\n                      <div className={\"main-trigger-icon-container\"}>\n                        <span className={\"main-trigger-icon\"}></span>\n                      </div>\n                    </label>\n                    <div className=\"hamburger-item-container\">\n                      <li\n                        className={`hamburger-item ${\n                          checkDisplay === \"dark\"\n                            ? \"dark-mode-dropdown-item\"\n                            : \"\"\n                        } `}\n                      >\n                        <button\n                          className=\"hamburger-item-button\"\n                          onClick={props.handleShowLogin}\n                        >\n                          log in\n                        </button>\n                      </li>\n                      <li\n                        className={`hamburger-item ${\n                          checkDisplay === \"dark\"\n                            ? \"dark-mode-dropdown-item\"\n                            : \"\"\n                        } `}\n                      >\n                        <button\n                          className=\"hamburger-item-button\"\n                          onClick={props.handleShowSignup}\n                        >\n                          sign up\n                        </button>\n                      </li>\n                    </div>\n                  </div>\n                </div>\n              </>\n            ) : (\n              <>\n                <Brightness2OutlinedIcon\n                  className={\n                    checkDisplay === \"dark\"\n                      ? \"outline-visible\"\n                      : \"brightness-icon\"\n                  }\n                  onClick={handleDarkMode}\n                />\n                <div className=\"profile-wrapper\">\n                  <button\n                    onClick={() => handleDropDown()}\n                    className={`navbar-profile-container ${\n                      checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n                    }`}\n                  >\n                    <div className=\"navbar-logo-text\">\n                      <img\n                        className={`default-profile-image ${\n                          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n                        }`}\n                        style={{ backgroundColor: \"rgba(0, 0, 0, 0.1)\" }}\n                        src={defaultPic}\n                        alt=\"\"\n                      />\n                      <p\n                        className={`navbar-profile-username ${\n                          checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n                        }`}\n                      >\n                        {currentUser.username}\n                      </p>\n                    </div>\n                    <img\n                      className=\"navbar-profile-triangle\"\n                      src={triangle}\n                      alt=\"\"\n                    />\n                  </button>\n                  {dropdown ? (\n                    <div className=\"navbar-dropdown-container\">\n                      <ul className=\"navbar-dropdown\">\n                        <li>\n                          <button\n                            onClick={handleLogout}\n                            className={`navbar-dropdown-options ${\n                              checkDisplay === \"dark\"\n                                ? \"navbar-dropdown-options-dark\"\n                                : \"\"\n                            }`}\n                          >\n                            Logout\n                          </button>\n                        </li>\n                      </ul>\n                    </div>\n                  ) : null}\n                </div>\n              </>\n            )}\n          </div>\n        </div>\n      </div>\n      <div></div>\n    </>\n  );\n}\nexport default withRouter(Navbar);\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useLocation } from \"react-router-dom\";\nimport { changePostSubmissionType, submitPost } from \"../actions/postActions\";\nconst NewPost = () => {\n  const useQuery = () => {\n    return new URLSearchParams(useLocation().search);\n  };\n  let query = useQuery();\n  let newQuery = query.get(\"media\");\n  let newQuery2 = query.get(\"link\");\n  let submissionType = useSelector((state) => {\n    return state.changeNewSubmissionType.submissionType;\n  });\n  const history = useHistory();\n  const dispatch = useDispatch();\n  const [title, setTitle] = useState(\"\");\n  const [text, setText] = useState(\"\");\n  const [imagedata, setImage] = useState(\"\");\n  const submitCheck = useSelector((state) => {\n    return state.posts.submitted;\n  });\n  const fetchingLogin = useSelector((state) => state.login.fetching);\n  const loggedInStatus = useSelector((state) => state.login.isLoggedIn);\n  const reRouteId = useSelector((state) => {\n    return state.posts.reRouteId;\n  });\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  useEffect(() => {}, []);\n  useEffect(() => {\n    if (newQuery) {\n      submissionType = \"media\";\n    } else if (newQuery2) {\n      submissionType = \"link\";\n    }\n    if (submitCheck) {\n      history.push(`/post/${reRouteId}`);\n    }\n  }, [submitCheck]);\n  if (fetchingLogin) {\n    return <div></div>;\n  }\n  const uploadForm = (e) => {\n    e.preventDefault();\n    const data = new FormData();\n    data.append(\"title\", title);\n    data.append(\"content\", text);\n    data.append(\"file\", imagedata);\n\n    dispatch(submitPost(data));\n  };\n  const handleFormType = () => {\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\n    dispatch(changePostSubmissionType(\"post\"));\n  };\n  const handleImageType = () => {\n    dispatch(changePostSubmissionType(\"media\"));\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\n  };\n  const handleLinkType = () => {\n    dispatch(changePostSubmissionType(\"link\"));\n    window.history.replaceState(\"page2\", \"Title\", \"/new-post\");\n  };\n  return (\n    <div\n      className={`newpost-wrapper ${\n        checkDisplay === \"dark\" ? \"dark-mode\" : \"\"\n      }`}\n    >\n      <div className=\"newpost-container\">\n        <p className=\"newpost-title\">Create a post</p>\n        <div\n          className={`newpost-template ${\n            checkDisplay === \"dark\" ? \"navbar-dropdown-options-dark\" : \"\"\n          }`}\n        >\n          <div className=\"newpost-options\">\n            <button\n              className={\n                submissionType === \"post\"\n                  ? `submit-type-button ${`selectedType`} ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    }`\n                  : `submit-type-button ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    } `\n              }\n              onClick={handleFormType}\n            >\n              Post\n            </button>\n            <button\n              className={\n                submissionType === \"media\"\n                  ? `submit-type-button ${`selectedType`} ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    }`\n                  : `submit-type-button ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    } `\n              }\n              onClick={handleImageType}\n            >\n              Images {\"&\"} Video\n            </button>\n            <button\n              className={\n                submissionType === \"link\"\n                  ? `submit-type-button ${`selectedType`} ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    }`\n                  : `submit-type-button ${\n                      checkDisplay === \"dark\" ? \"dark-mode-submit\" : \"\"\n                    } `\n              }\n              onClick={handleLinkType}\n            >\n              Link\n            </button>\n          </div>\n          <form action=\"\">\n            <div className=\"newpost-title-container\">\n              <input\n                onChange={(e) => {\n                  setTitle(e.target.value);\n                }}\n                placeholder=\"Title\"\n                className={`newpost-title ${\n                  checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n                }`}\n                type=\"text\"\n              />\n            </div>\n            <div className=\"newpost-entry-container\">\n              {submissionType === \"media\" ? (\n                <div className=\"upload-input-container\">\n                  <input\n                    onChange={(e) => {\n                      setImage(e.target.files[0]);\n                    }}\n                    className=\"upload-input\"\n                    type=\"file\"\n                    name=\"\"\n                    id=\"file-input\"\n                  />\n                </div>\n              ) : (\n                <textarea\n                  onChange={(e) => {\n                    setText(e.target.value);\n                  }}\n                  placeholder=\"Text(optional)\"\n                  className={`newpost-entry ${\n                    checkDisplay === \"dark\" ? \"dark-mode-input\" : \"\"\n                  }`}\n                  name=\"\"\n                  id=\"\"\n                  cols=\"30\"\n                  rows=\"10\"\n                ></textarea>\n              )}\n              <div className=\"submission-button-container\">\n                <button\n                  type=\"submit\"\n                  onClick={(e) => uploadForm(e)}\n                  className={`submission-buttons ${\n                    checkDisplay === \"dark\" ? \"dark-mode-button\" : \"\"\n                  }`}\n                >\n                  Post\n                </button>\n              </div>\n            </div>\n          </form>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default NewPost;\n","export default __webpack_public_path__ + \"static/media/down-arrow.c9c98d5d.svg\";","function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nvar _ref2 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M392.533,238.937c-9.426,0-17.067,7.641-17.067,17.067V426.67c0,9.426-7.641,17.067-17.067,17.067H51.2 c-9.426,0-17.067-7.641-17.067-17.067V85.337c0-9.426,7.641-17.067,17.067-17.067H256c9.426,0,17.067-7.641,17.067-17.067 S265.426,34.137,256,34.137H51.2C22.923,34.137,0,57.06,0,85.337V426.67c0,28.277,22.923,51.2,51.2,51.2h307.2 c28.277,0,51.2-22.923,51.2-51.2V256.003C409.6,246.578,401.959,238.937,392.533,238.937z\"\n})));\n\nvar _ref3 = /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"g\", null, /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M458.742,19.142c-12.254-12.256-28.875-19.14-46.206-19.138c-17.341-0.05-33.979,6.846-46.199,19.149L141.534,243.937 c-1.865,1.879-3.272,4.163-4.113,6.673l-34.133,102.4c-2.979,8.943,1.856,18.607,10.799,21.585 c1.735,0.578,3.552,0.873,5.38,0.875c1.832-0.003,3.653-0.297,5.393-0.87l102.4-34.133c2.515-0.84,4.8-2.254,6.673-4.13 l224.802-224.802C484.25,86.023,484.253,44.657,458.742,19.142z\"\n})));\n\nvar _ref4 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref5 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref6 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref7 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref8 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref9 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref10 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref11 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref12 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref13 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref14 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref15 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref16 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref17 = /*#__PURE__*/React.createElement(\"g\", null);\n\nvar _ref18 = /*#__PURE__*/React.createElement(\"g\", null);\n\nfunction SvgEdit(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, [\"title\", \"titleId\"]);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    viewBox: \"0 0 477.873 477.873\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _ref2, _ref3, _ref4, _ref5, _ref6, _ref7, _ref8, _ref9, _ref10, _ref11, _ref12, _ref13, _ref14, _ref15, _ref16, _ref17, _ref18);\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgEdit);\nexport default __webpack_public_path__ + \"static/media/edit.b8f7584a.svg\";\nexport { ForwardRef as ReactComponent };","export default __webpack_public_path__ + \"static/media/up-arrow.927fb299.svg\";","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport {\n  changeCommentPoint,\n  newReply,\n  newReplyRequest,\n} from \"../actions/commentActions\";\nimport downvote, {\n  ReactComponent as DownArrow,\n} from \"../images/down-arrow.svg\";\nimport upvote, { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\nconst Comment = ({ comment, handleShowLogin }) => {\n  const [lines, setLines] = useState([]);\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\n\n  const dispatch = useDispatch();\n  const [replyText, setReplyText] = useState(\"\");\n  const [replyToggle, setReplyToggle] = useState(false);\n  const voteUp = () => {\n    if (loggedIn) {\n      dispatch(changeCommentPoint(1, comment.postid, comment._id));\n    } else {\n      handleShowLogin();\n    }\n  };\n  const voteDown = () => {\n    if (loggedIn) {\n      dispatch(changeCommentPoint(-1, comment.postid, comment._id));\n    } else {\n      handleShowLogin();\n    }\n  };\n  const handleReplyToggle = () => {\n    setReplyToggle(!replyToggle);\n    dispatch(newReplyRequest());\n  };\n  const handleReply = () => {\n    let commentId = comment._id;\n    dispatch(\n      newReply(replyText, comment.postid, commentId, comment.master_comment)\n    );\n    setReplyToggle(false);\n    setReplyText(\"\");\n  };\n  useEffect(() => {\n    let linesArr = [];\n    for (let i = 0; i <= comment.depth; i++) {\n      linesArr.push(\n        <div\n          key={comment._id + \"line\" + i}\n          style={{\n            left: i === 0 ? 0 : i * 23,\n          }}\n          className=\"thread-line-container\"\n        >\n          <li className=\"thread-line\"></li>\n        </div>\n      );\n    }\n    setLines(linesArr);\n  }, [comment]);\n  if (!comment || typeof comment.depth !== \"number\") {\n    return null;\n  }\n  return (\n    <div\n      style={{\n        position: \"relative\",\n        paddingLeft: comment.depth === 0 ? 15 : comment.depth * 23 + 15,\n        paddingTop: \"10px\",\n      }}\n    >\n      {lines.map((line) => {\n        return line;\n      })}\n      <div className=\"comment-vote-title-container\">\n        {\" \"}\n        <div className=\"comment-vote-container\">\n          <div className=\"comment-vote-button-container\">\n            <UpArrow\n              className={\n                comment.voteState === 1\n                  ? \"comment-vote-button-color\"\n                  : `${\n                      checkDisplay === \"dark\"\n                        ? \"dark-mode-arrow\"\n                        : \"comment-vote-button\"\n                    }`\n              }\n              src={upvote}\n              onClick={voteUp}\n              alt=\"\"\n            />\n            <span className={checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"}>\n              {comment.voteTotal}\n            </span>\n            <DownArrow\n              className={\n                comment.voteState === -1\n                  ? `comment-vote-button-color`\n                  : `${\n                      checkDisplay === \"dark\"\n                        ? \"dark-mode-arrow\"\n                        : \"comment-vote-button\"\n                    }`\n              }\n              src={downvote}\n              onClick={voteDown}\n            />\n          </div>\n        </div>\n        <div className=\"comment-container\">\n          <p\n            className={`comment-author ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            {comment.author.username}\n          </p>\n          <div\n            className={`parent-comment ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            {comment.content}\n          </div>\n          <div className=\"reply-button-container\">\n            {loggedIn ? (\n              <button onClick={handleReplyToggle} className=\"reply-button\">\n                Reply\n              </button>\n            ) : null}\n            {replyToggle ? (\n              <div className=\"new-comment-container\">\n                <textarea\n                  value={replyText}\n                  onChange={(e) => {\n                    setReplyText(e.target.value);\n                  }}\n                  placeholder=\"What are your thoughts?\"\n                  className=\"new-comment reply-textarea\"\n                  rows=\"6\"\n                ></textarea>\n                <div className=\"submit-comment-container\">\n                  <button\n                    onClick={handleReply}\n                    className=\"submit-comment-button\"\n                  >\n                    Reply\n                  </button>\n                </div>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\nexport default React.memo(Comment, (prev, next) => {\n  if (prev.comment.voteState === next.comment.voteState) {\n    return true;\n  }\n});\n","import React, { useState, useEffect } from \"react\";\nimport { connect, useDispatch, useSelector } from \"react-redux\";\nimport { useHistory, useParams } from \"react-router-dom\";\nimport { fetchComments, newComment } from \"../actions/commentActions\";\nimport { changePoint, editPost } from \"../actions/postActions\";\nimport downvote, {\n  ReactComponent as DownArrow,\n} from \"../images/down-arrow.svg\";\nimport { ReactComponent as Edit } from \"../images/edit.svg\";\nimport upvote, { ReactComponent as UpArrow } from \"../images/up-arrow.svg\";\nimport Comment from \"./Comment\";\nimport { createSelector } from \"reselect\";\n\nconst PostModal = (props) => {\n  const params = useParams();\n  const dispatch = useDispatch();\n  const history = useHistory();\n  const [commentText, setCommentText] = useState(\"\");\n  const [edit, setEdit] = useState(false);\n  const [editText, setEditText] = useState(\"\");\n\n  const currentUser = useSelector((state) => state.currentUser._id);\n  const comments = useSelector((state) => {\n    return state.comments.byId;\n  });\n  const commentids = Object.keys(comments);\n  const loggedIn = useSelector((state) => state.login.isLoggedIn);\n  let currentPost = props.post;\n\n  const back = (e) => {\n    e.stopPropagation();\n  };\n  const handleReroute = () => {\n    history.push(\"/\");\n  };\n  const handleSubmitComment = () => {\n    dispatch(newComment(commentText, props.post._id));\n    setCommentText(\"\");\n  };\n  const handleUpvote = () => {\n    if (loggedIn) {\n      dispatch(changePoint(1, props.post._id, props.post.voteState));\n    } else {\n      props.handleShowLogin();\n    }\n  };\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  const handleDownVote = () => {\n    if (loggedIn) {\n      dispatch(changePoint(-1, props.post._id, props.post.voteState));\n    } else {\n      props.handleShowLogin();\n    }\n  };\n  const handleEdit = () => {\n    setEdit(true);\n  };\n  const handleCancelEdit = () => {\n    setEdit(false);\n  };\n  const saveEdit = (id) => {\n    dispatch(editPost(id, editText));\n    setEdit(false);\n  };\n  if (!currentPost || !comments) {\n    return <div></div>;\n  }\n  const date = new Date(currentPost.createdAt);\n  const formatDate = new Intl.DateTimeFormat(\"en-US\", {}).format(date);\n  const commentsArr = [];\n  const findAllComments = (currentComments) => {\n    return currentComments;\n  };\n\n  const postComments =\n    commentids.length === 0\n      ? []\n      : commentids.map((id) => {\n          return comments[id];\n        });\n  if (postComments.length > 0) {\n    findAllComments(postComments);\n  }\n  return (\n    <div\n      onClick={handleReroute}\n      className={`modal-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\n    >\n      <input type=\"checkbox\" id=\"trigger\" className={\"burger-input\"} />\n      <label\n        htmlFor=\"trigger\"\n        className={`close-label ${\n          checkDisplay === \"dark\" ? \"dark-mode-burger\" : \"\"\n        }`}\n      >\n        <div onClick={handleReroute} className={\"main-close-icon-container\"}>\n          <span className={\"main-close-icon\"}></span>\n        </div>\n      </label>\n      <div\n        onClick={back}\n        className={`card-modal ${\n          checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n        }`}\n      >\n        <>\n          <p className=\"card-modal-author\">\n            {\" \"}\n            u/{currentPost.author ? currentPost.author.username : \"deleted\"}\n          </p>\n          <p\n            className={`modal-date ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            {formatDate}\n          </p>{\" \"}\n          <h4\n            className={`card-modal-title ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            }`}\n          >\n            {currentPost.title}\n          </h4>\n        </>\n        <>\n          {currentPost.author && currentUser === currentPost.author._id ? (\n            <div className=\"edit-container\">\n              <p className={`card-modal-content ${edit ? \"inactive\" : null} `}>\n                {currentPost.content}\n              </p>\n              <textarea\n                onChange={(e) => {\n                  setEditText(e.target.value);\n                }}\n                className={edit ? \"edit-text-area\" : \"inactive\"}\n                value={editText}\n              ></textarea>\n              <div className={edit ? `edit-button-container` : `inactive`}>\n                <button\n                  onClick={() => saveEdit(currentPost._id)}\n                  className=\"edit-submit-button\"\n                >\n                  Save\n                </button>\n                <button\n                  onClick={handleCancelEdit}\n                  className=\"edit-cancel-button\"\n                >\n                  Cancel\n                </button>\n              </div>\n              <button\n                className={`edit-button ${edit ? \"inactive\" : null}`}\n                onClick={handleEdit}\n              >\n                <Edit />\n              </button>\n            </div>\n          ) : null}\n          <div className=\"post-image-container\">\n            <img className=\"post-image\" src={props.post.image} alt=\"\" />\n          </div>\n          {currentUser ? (\n            <div className=\"new-comment-container\">\n              <textarea\n                className=\"new-comment\"\n                name=\"\"\n                id=\"\"\n                placeholder=\"What are your thoughts?\"\n                rows=\"6\"\n                value={commentText}\n                onChange={(e) => setCommentText(e.target.value)}\n              ></textarea>\n              <span className=\"submit-comment-container\">\n                <button\n                  onClick={() => {\n                    handleSubmitComment();\n                  }}\n                  className=\"submit-comment-button\"\n                >\n                  Comment\n                </button>\n              </span>\n            </div>\n          ) : (\n            <div\n              className={`no-user-comment-container ${\n                checkDisplay === \"dark\" ? \"dark-mode-border\" : \"\"\n              } `}\n            >\n              <p className=\"no-user-comment\">\n                Log in or sign up to leave a comment\n              </p>\n              <div className=\"auth-button-container\">\n                <button\n                  className={checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}\n                  onClick={props.handleShowLogin}\n                >\n                  log in\n                </button>\n                <button onClick={props.handleShowSignup}>sign up</button>\n              </div>\n            </div>\n          )}\n          <div className=\"card-modal-vote-container\">\n            <li onClick={handleUpvote}>\n              <UpArrow\n                className={\n                  currentPost.voteState === 1\n                    ? `vote-button-color`\n                    : `${\n                        checkDisplay === \"dark\"\n                          ? \"dark-mode-arrow\"\n                          : \"vote-button\"\n                      }`\n                }\n                src={upvote}\n                alt=\"\"\n              />\n            </li>\n            <li className={checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"}>\n              {currentPost.voteTotal}\n            </li>\n            <li onClick={handleDownVote}>\n              <DownArrow\n                className={\n                  currentPost.voteState === -1\n                    ? `vote-button-color`\n                    : `${\n                        checkDisplay === \"dark\"\n                          ? \"dark-mode-arrow\"\n                          : \"vote-button\"\n                      }`\n                }\n                src={downvote}\n                alt=\"\"\n              />\n            </li>\n          </div>\n          <h4\n            className={`comment-section-header ${\n              checkDisplay === \"dark\" ? \"dark-mode-font\" : \"\"\n            } `}\n          >\n            Comments\n          </h4>\n          <div className=\"main-comment-container\">\n            {postComments.map((comment) => {\n              return (\n                <Comment\n                  allComments={comments}\n                  handleShowLogin={props.handleShowLogin}\n                  key={comment._id}\n                  comment={comment}\n                />\n              );\n            })}\n          </div>\n        </>\n      </div>\n    </div>\n  );\n};\nfunction mapStateToProps(state, ownProps) {\n  let id = ownProps.match.params.id;\n  let post;\n  post = state.posts.byId[id];\n  return {\n    post: post,\n  };\n}\nexport default connect(mapStateToProps)(PostModal);\n","import React, { useEffect, useState } from \"react\";\nimport { useDispatch, useSelector } from \"react-redux\";\nimport { Redirect, Route, Switch } from \"react-router-dom\";\nimport { nextPage } from \"./actions/postActions\";\nimport { clearLoginModal, loggedIn } from \"./actions/userActions\";\nimport Home from \"./components/Home\";\nimport Login from \"./components/Login\";\nimport Navbar from \"./components/Navbar\";\nimport NewPost from \"./components/NewPost\";\nimport PostModal from \"./components/PostModal\";\nimport Signup from \"./components/Signup\";\nimport \"./styles/myApp.scss\";\n\nfunction App(props) {\n  const [showLogin, setLogin] = useState(false);\n  const [darkMode, setDarkMode] = useState(false);\n  const [fetchingLogin, setFetchingLogin] = useState(true);\n  const [showSignup, setShowSignup] = useState(false);\n  const loggedInStatus = useSelector((state) => state.currentUser.isLoggedIn);\n  const signedUpStatus = useSelector((state) => state.signup.isSignedUp);\n  const dispatch = useDispatch();\n  const checkDisplay = useSelector((state) => {\n    return state.display.display;\n  });\n  useEffect(() => {\n    dispatch(loggedIn()).then((data) => {\n      if (data) {\n        setFetchingLogin(false);\n      }\n    });\n  }, [dispatch]);\n  useEffect(() => {\n    if (loggedInStatus) {\n      setLogin(false);\n    }\n    if (signedUpStatus && !loggedInStatus) {\n      setShowSignup(false);\n      setLogin(true);\n    }\n  }, [loggedInStatus, signedUpStatus]);\n  const handleShowLogin = () => {\n    setLogin(!showLogin);\n  };\n  const handleShowSignup = () => {\n    setShowSignup(!showSignup);\n  };\n  const closeModal = () => {\n    dispatch(clearLoginModal());\n    setLogin(false);\n    setShowSignup(false);\n  };\n  const handleShowNextPage = (lastId, sort) => {\n    dispatch(nextPage(lastId, sort));\n  };\n\n  return (\n    <div\n      id=\"scroll-wrapper\"\n      className={`app-wrapper ${checkDisplay === \"dark\" ? \"dark-mode\" : \"\"}`}\n    >\n      {showLogin ? <Login close={closeModal} /> : null}\n      {showSignup ? <Signup close={closeModal} /> : null}\n      <Navbar\n        handleShowLogin={handleShowLogin}\n        handleShowSignup={handleShowSignup}\n      />\n      <Route\n        exact\n        path=\"/post/:id\"\n        render={(props) => {\n          return (\n            <PostModal\n              handleShowLogin={handleShowLogin}\n              handleShowSignup={handleShowSignup}\n              {...props}\n            />\n          );\n        }}\n      />\n      <Switch>\n        <Route\n          exact\n          path=\"/new-post\"\n          render={(props) => {\n            return <NewPost {...props} />;\n          }}\n        >\n          {!fetchingLogin && !loggedInStatus ? <Redirect to=\"/\" /> : null}\n        </Route>\n        <Route\n          path={[\"/:sort\", \"/\"]}\n          render={(props2) => {\n            return (\n              <Home\n                handleShowLogin={handleShowLogin}\n                handleShowSignup={handleShowSignup}\n                handleShowNextPage={handleShowNextPage}\n                {...props2}\n                test={props.posts}\n              />\n            );\n          }}\n          showLogin={showLogin}\n          showSignup={showSignup}\n        />\n      </Switch>\n    </div>\n  );\n}\nexport default App;\n","import { combineReducers } from \"redux\";\nimport {\n  CLEAR_ERROR,\n  CLEAR_LOGIN_MODAL,\n  CURRENT_USER,\n  DARK_MODE_DISABLED,\n  DARK_MODE_ENABLED,\n  DELETE_POST,\n  EDIT_POST,\n  LOGIN_ERROR,\n  LOGIN_REQUEST,\n  LOGIN_SUCCESS,\n  LOG_OUT,\n  NEW_COMMENT_SUCCESS,\n  NEW_POST_REQUEST,\n  NEW_POST_SUCCESS,\n  NEW_REPLY_REQUEST,\n  NEW_REPLY_SUCCESS,\n  NEXT_PAGE,\n  POST_CREATION_CHANGE_SUBMISSION_TYPE,\n  PREV_PAGE,\n  RECEIVE_COMMENTS,\n  RECEIVE_POSTS,\n  RECEIVE_SINGLE_POSTS,\n  REFRESH_USER,\n  REQUEST_POSTS,\n  REQUEST_USER_INFO,\n  SET_POST_MODAL,\n  SIGNUP_ERROR,\n  SIGNUP_REQUEST,\n  SIGNUP_SUCCESS,\n  SORT_POSTS,\n  SPLICED_POST,\n  UNAUTHORIZED_ERROR,\n  VOTE_CAST,\n} from \"../types\";\nfunction combineArrays(arr1, arr2) {\n  let combined = arr1.concat(arr2);\n  let set = new Set(combined);\n  return [...set];\n}\nfunction addComment(state, action) {\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [action.postId]: {\n        ...state.byId[action.postId],\n        comments: [\n          ...state.byId[action.postId].comments,\n          action.savedComment._id,\n        ],\n      },\n    },\n  };\n}\nfunction changePostPoint(state, action) {\n  const { postId } = action;\n  const { point } = action;\n  const { currentVoteState } = action;\n  const post = state.byId[postId];\n  if (action.commentId) {\n    return state;\n  } else {\n    if (currentVoteState === 1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 0,\n            voteTotal: state.byId[postId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 1,\n            voteTotal: state.byId[postId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: -1,\n            voteTotal: state.byId[postId].voteTotal - 2,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: -1,\n            voteTotal: state.byId[postId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 0,\n            voteTotal: state.byId[postId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [postId]: {\n            ...post,\n            voteState: 1,\n            voteTotal: state.byId[postId].voteTotal + 2,\n          },\n        },\n      };\n    }\n  }\n}\nfunction handlePostSubmission(state, action) {\n  const { post, id } = action;\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [id]: post,\n    },\n    allIds: [...state.allIds, id],\n    submitting: false,\n    createdPosts: {\n      ...state.createdPosts,\n      [id]: post,\n    },\n    submitted: true,\n    reRouteId: id,\n  };\n}\nfunction editPostReduce(state, action) {\n  const { postId, content } = action;\n  const post = state.byId[postId];\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [postId]: {\n        ...post,\n        content: content,\n      },\n    },\n  };\n}\nfunction handlePreviousPage(state, action) {\n  let allIds = state.allIds;\n  let incomingIds = action.normalizedData.result;\n  let set = new Set(incomingIds.concat(allIds));\n  return {\n    ...state,\n    isFetching: false,\n    byId: {\n      ...state.byId,\n      ...action.normalizedData.entities.posts,\n    },\n    status: \"succeeded\",\n    allIds: [...set],\n  };\n}\nfunction handleNextPage(state, action) {\n  let allIds = state.allIds;\n  let incomingIds = action.normalizedData.result;\n  let set = new Set(allIds.concat(incomingIds));\n  return {\n    ...state,\n    isFetching: false,\n    byId: {\n      ...state.byId,\n      ...action.normalizedData.entities.posts,\n    },\n    offset: action.offset,\n    status: \"succeeded\",\n    allIds: [...set],\n  };\n}\nfunction setListings(state, action, prev) {\n  return {\n    ...state,\n    status: \"completed\",\n    sortOrder: action.sort,\n    listingOrder: {\n      ...state.listingOrder,\n      [action.sort]: combineArrays(\n        state.listingOrder[action.sort] ? state.listingOrder[action.sort] : [],\n        action.normalizedData.result\n      ),\n    },\n  };\n}\nfunction listings(\n  state = {\n    sortOrder: \"default\",\n    listingOrder: {},\n    status: \"idle\",\n  },\n  action\n) {\n  switch (action.type) {\n    case SORT_POSTS:\n      return setListings(state, action);\n    case REQUEST_POSTS:\n      return action.e\n        ? Object.assign({}, state, {\n            status: \"loading\",\n          })\n        : state;\n    case DELETE_POST:\n      const filteredPosts = state.listingOrder[state.sortOrder].filter((id) => {\n        return id !== action.postId;\n      });\n      return {\n        ...state,\n        listingOrder: {\n          ...state.listingOrder,\n          [state.sortOrder]: [...filteredPosts],\n        },\n      };\n    case PREV_PAGE:\n      return setListings(state, action, \"prev\");\n    case NEXT_PAGE:\n      return setListings(state, action);\n    case RECEIVE_POSTS:\n      return setListings(state, action);\n    default:\n      return state;\n  }\n}\nfunction receievePosts(state, action) {\n  let allIds = state.allIds;\n  let incomingIds = action.normalizedData.result;\n  let set = new Set(allIds.concat(incomingIds));\n  return {\n    ...state,\n    isFetching: false,\n    byId: {\n      ...state.byId,\n      ...action.normalizedData.entities.posts,\n    },\n    offset: action.offset,\n    status: \"completed\",\n    allIds: [...set],\n  };\n}\nfunction recieveSinglePost(state, action) {\n  let allIds = state.allIds;\n  let incomingIds = action.normalizedData.result;\n  let set = new Set(allIds.concat(incomingIds));\n  return {\n    ...state,\n    isFetching: false,\n    byId: {\n      ...state.byId,\n      ...action.normalizedData.entities.posts,\n    },\n    offset: action.offset,\n    status: \"completed\",\n    allIds: [...set],\n  };\n}\nexport function posts(\n  state = {\n    isFetching: false,\n    byId: {},\n    allIds: [],\n    offset: null,\n    submitted: false,\n    err: null,\n    createdPosts: {},\n    submitting: false,\n    reRouteId: null,\n    status: \"idle\",\n    firstId: \"\",\n    lastId: \"\",\n  },\n  action\n) {\n  switch (action.type) {\n    case RECEIVE_COMMENTS:\n      const postid = action.postid;\n      return Object.assign({}, state, {\n        byId: {\n          ...state.byId,\n          [postid]: {\n            ...state.byId[postid],\n            comments: action.commentids || [],\n          },\n        },\n      });\n    case NEW_REPLY_SUCCESS:\n      const newIndex = action.parentIndex + 1;\n\n      const currPostid = state.byId[action.postId];\n\n      const newArray = [...currPostid.comments];\n      newArray.splice(newIndex, 0, action.reply._id);\n\n      return Object.assign({}, state, {\n        byId: {\n          ...state.byId,\n          [action.postId]: {\n            ...state.byId[action.postId],\n            comments: newArray || [],\n          },\n        },\n      });\n    case SORT_POSTS:\n      return Object.assign({}, state, {\n        status: \"idle\",\n        offset: action.offset,\n      });\n    case PREV_PAGE:\n      return handlePreviousPage(state, action);\n    case NEXT_PAGE:\n      return handleNextPage(state, action);\n    case REQUEST_POSTS:\n      return Object.assign({}, state, {\n        isFetching: true,\n        status: \"loading\",\n      });\n    case SPLICED_POST:\n      return Object.assign({}, state, {\n        byId: action.newObj,\n        allIds: action.splicedArray,\n        createdPosts: {},\n      });\n    case RECEIVE_SINGLE_POSTS:\n      return receievePosts(state, action);\n    case RECEIVE_POSTS:\n      return receievePosts(state, action);\n    case VOTE_CAST:\n      return changePostPoint(state, action);\n    case DELETE_POST:\n      const allIds = state.allIds;\n      const filteredPosts = allIds.filter((id) => {\n        return id !== action.postId;\n      });\n      return Object.assign({}, state, {\n        allIds: filteredPosts,\n      });\n    case NEW_COMMENT_SUCCESS:\n      return addComment(state, action);\n    case NEW_POST_REQUEST:\n      return Object.assign({}, state, {\n        submitted: false,\n        submitting: true,\n        reRouteId: \"\",\n      });\n    case EDIT_POST:\n      return editPostReduce(state, action);\n    case NEW_POST_SUCCESS:\n      return handlePostSubmission(state, action);\n    default:\n      return state;\n  }\n}\nfunction setPostModal(state, action) {\n  const { post } = action;\n  return {\n    ...state,\n    post,\n  };\n}\nfunction currentModal(\n  state = {\n    post: {},\n  },\n  action\n) {\n  switch (action.type) {\n    case SET_POST_MODAL:\n      return setPostModal(state, action);\n    case NEW_POST_SUCCESS:\n      return Object.assign({}, state, {\n        post: action.post,\n      });\n    default:\n      return state;\n  }\n}\nfunction addCommentEntry(state, action) {\n  const { savedComment } = action;\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [action.savedComment._id]: {\n        ...state.byId[savedComment._id],\n        ...action.savedComment,\n      },\n    },\n  };\n}\nfunction changeCommentPoint(state, action) {\n  if (action.commentId) {\n    const { commentId } = action;\n    const { point } = action;\n    const { currentVoteState } = action;\n    const comment = state.byId[commentId];\n    if (currentVoteState === 1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 0,\n            voteTotal: state.byId[commentId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 1,\n            voteTotal: state.byId[commentId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: -1,\n            voteTotal: state.byId[commentId].voteTotal - 2,\n          },\n        },\n      };\n    }\n    if (currentVoteState === 0 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: -1,\n            voteTotal: state.byId[commentId].voteTotal - 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === -1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 0,\n            voteTotal: state.byId[commentId].voteTotal + 1,\n          },\n        },\n      };\n    }\n    if (currentVoteState === -1 && point === 1) {\n      return {\n        ...state,\n        byId: {\n          ...state.byId,\n          [commentId]: {\n            ...comment,\n            voteState: 1,\n            voteTotal: state.byId[commentId].voteTotal + 2,\n          },\n        },\n      };\n    }\n  } else {\n    return state;\n  }\n}\nconst newReply = (state, action) => {\n  return {\n    ...state,\n    byId: {\n      ...state.byId,\n      [action.reply._id]: action.reply,\n    },\n  };\n};\nfunction comments(\n  state = {\n    byId: {},\n    allId: [],\n  },\n  action\n) {\n  switch (action.type) {\n    case RECEIVE_COMMENTS: {\n      return Object.assign({}, state, {\n        byId: {\n          ...state.byId,\n          ...action.comments,\n        },\n      });\n    }\n\n    case RECEIVE_SINGLE_POSTS: {\n      return Object.assign({}, state, {\n        byId: {\n          ...state.byId,\n          ...action.normalizedData.entities.comments,\n        },\n      });\n    }\n    case RECEIVE_POSTS: {\n      return Object.assign({}, state, {\n        byId: {\n          ...state.byId,\n          ...action.normalizedData.entities.comments,\n        },\n      });\n    }\n    case NEW_REPLY_SUCCESS:\n      return newReply(state, action);\n    case VOTE_CAST:\n      return changeCommentPoint(state, action);\n    case NEW_COMMENT_SUCCESS:\n      return addCommentEntry(state, action);\n    case NEW_REPLY_REQUEST:\n      return Object.assign({}, state, {});\n    default:\n      return state;\n  }\n}\nfunction changeNewSubmissionType(\n  state = {\n    submissionType: \"\",\n  },\n  action\n) {\n  switch (action.type) {\n    case POST_CREATION_CHANGE_SUBMISSION_TYPE:\n      return Object.assign({}, state, {\n        submissionType: action.postType,\n      });\n    default:\n      return state;\n  }\n}\nfunction signup(\n  state = {\n    isSigningUp: false,\n    isSignedUp: false,\n    err: null,\n    passwordError: null,\n  },\n  action\n) {\n  const { passwordError } = action;\n  switch (action.type) {\n    case SIGNUP_REQUEST:\n      return Object.assign({}, state, {\n        err: null,\n        passwordError: null,\n      });\n    case SIGNUP_SUCCESS:\n      return Object.assign({}, state, {\n        isSignedUp: true,\n        isSigningUp: false,\n        err: null,\n        passwordError: null,\n      });\n    case CLEAR_ERROR:\n      return Object.assign({}, state, {\n        err: null,\n      });\n    case SIGNUP_ERROR:\n      return Object.assign({}, state, {\n        err: action.error,\n        passwordError,\n      });\n    default:\n      return state;\n  }\n}\nfunction login(\n  state = {\n    isLoggingIn: false,\n    isLoggedIn: false,\n    err: null,\n    fetching: false,\n  },\n  action\n) {\n  switch (action.type) {\n    case REQUEST_USER_INFO:\n      return Object.assign({}, state, {\n        isLoggedIn: true,\n        fetching: true,\n      });\n    case CURRENT_USER:\n      return Object.assign({}, state, {\n        fetching: false,\n      });\n    case UNAUTHORIZED_ERROR:\n      return Object.assign({}, state, {\n        err: \"Username or Password do not match\",\n      });\n    case CLEAR_LOGIN_MODAL:\n      return Object.assign({}, state, {\n        err: null,\n      });\n    case LOGIN_REQUEST:\n      return Object.assign({}, state, {\n        isLoggingIn: true,\n        isLoggedIn: false,\n      });\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, {\n        isLoggingIn: false,\n        isLoggedIn: true,\n      });\n    case LOG_OUT:\n      return Object.assign({}, state, {\n        isLoggingIn: false,\n        isLoggedIn: false,\n      });\n    case LOGIN_ERROR:\n      return Object.assign({}, state, {\n        isLoggingIn: false,\n        isLoggedIn: false,\n      });\n    default:\n      return state;\n  }\n}\nfunction currentUser(\n  state = {\n    username: \"\",\n    _id: \"\",\n    err: null,\n  },\n  action\n) {\n  switch (action.type) {\n    case LOG_OUT:\n      return Object.assign({}, state, {\n        username: null,\n        _id: null,\n      });\n    case REFRESH_USER:\n      return Object.assign({}, state, {\n        username: action.userInfo.username,\n        _id: action.userInfo._id,\n      });\n    case LOGIN_SUCCESS:\n      return Object.assign({}, state, {\n        username: action.username,\n        _id: action.id,\n      });\n    case CURRENT_USER:\n      return Object.assign({}, state, {\n        isLoggedIn: true,\n        username: action.username,\n        _id: action.user,\n      });\n    default:\n      return state;\n  }\n}\nexport function display(\n  state = {\n    display: \"default\",\n  },\n  action\n) {\n  switch (action.type) {\n    case DARK_MODE_ENABLED:\n      return Object.assign({}, state, {\n        display: \"dark\",\n      });\n    case DARK_MODE_DISABLED:\n      return Object.assign({}, state, {\n        display: \"default\",\n      });\n    default:\n      return state;\n  }\n}\nconst rootReducer = combineReducers({\n  comments,\n  display,\n  currentModal,\n  changeNewSubmissionType,\n  posts,\n  login,\n  signup,\n  currentUser,\n  listings,\n});\n\nexport default rootReducer;\n","import { createBrowserHistory } from \"history\";\nimport React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport { Provider } from \"react-redux\";\nimport { Router } from \"react-router\";\nimport { Route } from \"react-router-dom\";\nimport App from \"./App\";\nimport configureStore from \"./store/store\";\nconst store = configureStore();\nconst history = createBrowserHistory();\nReactDOM.render(\n  <React.StrictMode>\n    <Provider store={store}>\n      <Router history={history}>\n        <Route>\n          <App />\n        </Route>\n      </Router>\n    </Provider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n","import { applyMiddleware, createStore } from \"redux\";\nimport { composeWithDevTools } from \"redux-devtools-extension\";\nimport thunkMiddleware from \"redux-thunk\";\nimport { loadState } from \"../localStorage\";\nimport rootReducer from \"../reducers/reducer\";\nexport default function configureStore(preloadedState) {\n  const persistedState = loadState();\n  const composeEnhancers = composeWithDevTools({ trace: true });\n  return createStore(\n    rootReducer,\n    persistedState,\n    composeEnhancers(applyMiddleware(thunkMiddleware))\n  );\n}\n","export const loadState = () => {\n  try {\n    const serializedState = localStorage.getItem(\"state\");\n    if (serializedState === null) {\n      return undefined;\n    }\n    return JSON.parse(serializedState);\n  } catch (err) {\n    return undefined;\n  }\n};\nexport const saveState = (state) => {\n  try {\n    const serializedState = JSON.stringify(state);\n    localStorage.setItem(\"state\", serializedState);\n  } catch {}\n};\n"],"sourceRoot":""}